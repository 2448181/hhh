const _0x4b2ee7=_0x3583;(function(_0x177be3,_0x20b5a6){const _0x5e9b7f=_0x3583,_0x344c9e=_0x177be3();while(!![]){try{const _0x38ad70=parseInt(_0x5e9b7f(0x180))/0x1*(parseInt(_0x5e9b7f(0x1ab))/0x2)+-parseInt(_0x5e9b7f(0x201))/0x3+parseInt(_0x5e9b7f(0x216))/0x4*(-parseInt(_0x5e9b7f(0x115))/0x5)+-parseInt(_0x5e9b7f(0x120))/0x6+-parseInt(_0x5e9b7f(0x225))/0x7*(-parseInt(_0x5e9b7f(0x1ba))/0x8)+-parseInt(_0x5e9b7f(0x13d))/0x9+parseInt(_0x5e9b7f(0x224))/0xa;if(_0x38ad70===_0x20b5a6)break;else _0x344c9e['push'](_0x344c9e['shift']());}catch(_0x1c5fda){_0x344c9e['push'](_0x344c9e['shift']());}}}(_0x520a,0x2d9b4));import{connect}from'cloudflare:sockets';let userID='',proxyIP='',subConverter=atob('U1VCQVBJLkNNTGl1c3Nzcy5uZXQ='),subConfig=atob(_0x4b2ee7(0xee)),subProtocol=_0x4b2ee7(0x1aa),subEmoji=_0x4b2ee7(0x16a),socks5Address='',parsedSocks5Address={},enableSocks=![],noTLS=_0x4b2ee7(0x106);const expire=0xf4849500;let proxyIPs,socks5s,go2Socks5s=['*ttvnw.net',_0x4b2ee7(0x1c1),'*cloudatacdn.com',_0x4b2ee7(0x16d)],addresses=[],addressesapi=[],addressesnotls=[],addressesnotlsapi=[],addressescsv=[],DLS=0x8,remarkIndex=0x1,FileName=atob(_0x4b2ee7(0x1bb)),BotToken,ChatID,proxyhosts=[],proxyhostsURL='',RproxyIP=_0x4b2ee7(0x106);const httpPorts=[_0x4b2ee7(0x1ff),_0x4b2ee7(0x1db),_0x4b2ee7(0x1d3),_0x4b2ee7(0xdb),'2086',_0x4b2ee7(0xf2)];let httpsPorts=[_0x4b2ee7(0x1d0),_0x4b2ee7(0x19b),_0x4b2ee7(0x1f3),_0x4b2ee7(0xea),_0x4b2ee7(0xd3)],有效时间=0x7,更新时间=0x3,userIDLow,userIDTime='',proxyIPPool=[],path='/?ed=2560',动态UUID,link=[],banHosts=[atob(_0x4b2ee7(0x1e2))];export default{async 'fetch'(_0x21bc60,_0x4b5942,_0x92b9d9){const _0x327ee4=_0x4b2ee7;try{const _0x2c93c2=_0x21bc60[_0x327ee4(0x1cd)][_0x327ee4(0x1cc)]('User-Agent')||_0x327ee4(0x19e),_0x26ec28=_0x2c93c2[_0x327ee4(0x15c)]();userID=_0x4b5942['UUID']||_0x4b5942['uuid']||_0x4b5942['PASSWORD']||_0x4b5942[_0x327ee4(0x21e)]||userID;if(_0x4b5942[_0x327ee4(0x126)]||_0x4b5942[_0x327ee4(0x11a)]||userID&&!isValidUUID(userID)){动态UUID=_0x4b5942[_0x327ee4(0x126)]||_0x4b5942[_0x327ee4(0x11a)]||userID,有效时间=Number(_0x4b5942['TIME'])||有效时间,更新时间=Number(_0x4b5942[_0x327ee4(0x132)])||更新时间;const _0x1a609b=await 生成动态UUID(动态UUID);userID=_0x1a609b[0x0],userIDLow=_0x1a609b[0x1];}if(!userID)return new Response(_0x327ee4(0x145),{'status':0x194,'headers':{'Content-Type':_0x327ee4(0xf8)}});const _0x348a75=new Date();_0x348a75['setHours'](0x0,0x0,0x0,0x0);const _0x3b3675=Math['ceil'](_0x348a75[_0x327ee4(0x199)]()/0x3e8),_0x3dbd81=await 双重哈希(''+userID+_0x3b3675),_0x3b0e1a=[_0x3dbd81[_0x327ee4(0x194)](0x0,0x8),_0x3dbd81[_0x327ee4(0x194)](0x8,0xc),_0x3dbd81['slice'](0xc,0x10),_0x3dbd81['slice'](0x10,0x14),_0x3dbd81[_0x327ee4(0x194)](0x14)][_0x327ee4(0x15d)]('-'),_0x4a3859=_0x3dbd81[_0x327ee4(0x194)](0x6,0x9)+'.'+_0x3dbd81[_0x327ee4(0x194)](0xd,0x13);proxyIP=_0x4b5942[_0x327ee4(0x1e9)]||_0x4b5942[_0x327ee4(0x1d9)]||proxyIP,proxyIPs=await 整理(proxyIP),proxyIP=proxyIPs[Math[_0x327ee4(0x184)](Math[_0x327ee4(0x205)]()*proxyIPs[_0x327ee4(0xfd)])],socks5Address=_0x4b5942[_0x327ee4(0x19f)]||socks5Address,socks5s=await 整理(socks5Address),socks5Address=socks5s[Math['floor'](Math[_0x327ee4(0x205)]()*socks5s[_0x327ee4(0xfd)])],socks5Address=socks5Address['split']('//')[0x1]||socks5Address;if(_0x4b5942[_0x327ee4(0x11f)])go2Socks5s=await 整理(_0x4b5942[_0x327ee4(0x11f)]);if(_0x4b5942[_0x327ee4(0x1e6)])httpsPorts=await 整理(_0x4b5942[_0x327ee4(0x1e6)]);if(_0x4b5942['BAN'])banHosts=await 整理(_0x4b5942[_0x327ee4(0x187)]);if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),RproxyIP=_0x4b5942[_0x327ee4(0x105)]||'false',enableSocks=!![];}catch(_0x7d1737){let _0x1fcc77=_0x7d1737;console[_0x327ee4(0x128)](_0x1fcc77['toString']()),RproxyIP=_0x4b5942['RPROXYIP']||!proxyIP?_0x327ee4(0x16a):_0x327ee4(0x106),enableSocks=![];}else RproxyIP=_0x4b5942[_0x327ee4(0x105)]||!proxyIP?_0x327ee4(0x16a):_0x327ee4(0x106);const _0x2cd022=_0x21bc60[_0x327ee4(0x1cd)][_0x327ee4(0x1cc)]('Upgrade'),_0xec1cb3=new URL(_0x21bc60[_0x327ee4(0x22d)]);if(!_0x2cd022||_0x2cd022!==_0x327ee4(0x18a)){if(_0x4b5942[_0x327ee4(0x147)])addresses=await 整理(_0x4b5942[_0x327ee4(0x147)]);if(_0x4b5942[_0x327ee4(0x133)])addressesapi=await 整理(_0x4b5942[_0x327ee4(0x133)]);if(_0x4b5942['ADDNOTLS'])addressesnotls=await 整理(_0x4b5942[_0x327ee4(0x171)]);if(_0x4b5942['ADDNOTLSAPI'])addressesnotlsapi=await 整理(_0x4b5942[_0x327ee4(0x17d)]);if(_0x4b5942[_0x327ee4(0x107)])addressescsv=await 整理(_0x4b5942[_0x327ee4(0x107)]);DLS=Number(_0x4b5942[_0x327ee4(0x22e)])||DLS,remarkIndex=Number(_0x4b5942[_0x327ee4(0x16e)])||remarkIndex,BotToken=_0x4b5942[_0x327ee4(0x186)]||BotToken,ChatID=_0x4b5942[_0x327ee4(0x167)]||ChatID,FileName=_0x4b5942[_0x327ee4(0x209)]||FileName,subEmoji=_0x4b5942[_0x327ee4(0x1b5)]||_0x4b5942[_0x327ee4(0x229)]||subEmoji;if(subEmoji=='0')subEmoji='false';if(_0x4b5942[_0x327ee4(0x1b1)])link=await 整理(_0x4b5942[_0x327ee4(0x1b1)]);let _0x3d2d64=_0x4b5942[_0x327ee4(0x11d)]||'';subConverter=_0x4b5942['SUBAPI']||subConverter;subConverter['includes'](_0x327ee4(0x1df))?(subConverter=subConverter[_0x327ee4(0x11e)]('//')[0x1],subProtocol=_0x327ee4(0x119)):subConverter=subConverter[_0x327ee4(0x11e)]('//')[0x1]||subConverter;subConfig=_0x4b5942[_0x327ee4(0x11b)]||subConfig;if(_0xec1cb3[_0x327ee4(0xef)]['has'](_0x327ee4(0x19a))&&_0xec1cb3['searchParams'][_0x327ee4(0x1cc)](_0x327ee4(0x19a))!=='')_0x3d2d64=_0xec1cb3[_0x327ee4(0xef)][_0x327ee4(0x1cc)](_0x327ee4(0x19a));if(_0xec1cb3[_0x327ee4(0xef)]['has'](_0x327ee4(0xdc)))noTLS=_0x327ee4(0x16a);if(_0xec1cb3[_0x327ee4(0xef)]['has'](_0x327ee4(0x1d9)))path='/?ed=2560&proxyip='+_0xec1cb3[_0x327ee4(0xef)][_0x327ee4(0x1cc)](_0x327ee4(0x1d9)),RproxyIP='false';else{if(_0xec1cb3[_0x327ee4(0xef)][_0x327ee4(0x200)](_0x327ee4(0x1a0)))path=_0x327ee4(0x151)+_0xec1cb3[_0x327ee4(0xef)]['get']('socks5'),RproxyIP=_0x327ee4(0x106);else _0xec1cb3[_0x327ee4(0xef)]['has']('socks')&&(path='/?ed=2560&socks5='+_0xec1cb3[_0x327ee4(0xef)][_0x327ee4(0x1cc)](_0x327ee4(0x1dc)),RproxyIP=_0x327ee4(0x106));}const _0x2872c1=_0xec1cb3[_0x327ee4(0x10a)][_0x327ee4(0x15c)]();if(_0x2872c1=='/'){if(_0x4b5942['URL302'])return Response['redirect'](_0x4b5942[_0x327ee4(0x191)],0x12e);else{if(_0x4b5942[_0x327ee4(0x21a)])return await 代理URL(_0x4b5942['URL'],_0xec1cb3);else return new Response(JSON[_0x327ee4(0xe8)](_0x21bc60['cf'],null,0x4),{'status':0xc8,'headers':{'content-type':_0x327ee4(0x1b3)}});}}else{if(_0x2872c1=='/'+_0x3b0e1a){const _0x488dac=await 生成配置信息(userID,_0x21bc60[_0x327ee4(0x1cd)][_0x327ee4(0x1cc)](_0x327ee4(0x14d)),_0x3d2d64,'CF-Workers-SUB',RproxyIP,_0xec1cb3,_0x3b0e1a,_0x4a3859,_0x4b5942);return new Response(''+_0x488dac,{'status':0xc8});}else{if(_0xec1cb3[_0x327ee4(0x10a)]=='/'+动态UUID+_0x327ee4(0x15a)||_0x2872c1=='/'+userID+_0x327ee4(0x15a)){const _0x58f4b5=await KV(_0x21bc60,_0x4b5942);return _0x58f4b5;}else{if(_0xec1cb3['pathname']=='/'+动态UUID||_0x2872c1=='/'+userID){const _0x46e8cc=await 生成配置信息(userID,_0x21bc60[_0x327ee4(0x1cd)][_0x327ee4(0x1cc)](_0x327ee4(0x14d)),_0x3d2d64,_0x2c93c2,RproxyIP,_0xec1cb3,_0x3b0e1a,_0x4a3859,_0x4b5942),_0x27697a=Date[_0x327ee4(0x1a9)](),_0x3e23c6=new Date(_0x27697a);_0x3e23c6[_0x327ee4(0x183)](0x0,0x0,0x0,0x0);const _0x17739a=Math[_0x327ee4(0x184)]((_0x27697a-_0x3e23c6[_0x327ee4(0x199)]())/0x5265c00*0x18*0x10000000000/0x2);let _0x280309=_0x17739a,_0x2574d4=_0x17739a,_0x205a63=0x18*0x10000000000;return _0x26ec28&&_0x26ec28[_0x327ee4(0x231)]('mozilla')?new Response(_0x46e8cc,{'status':0xc8,'headers':{'Content-Type':_0x327ee4(0x117),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x327ee4(0x188)+_0x280309+_0x327ee4(0x150)+_0x2574d4+_0x327ee4(0x141)+_0x205a63+';\x20expire='+expire,'Cache-Control':'no-store'}}):new Response(_0x46e8cc,{'status':0xc8,'headers':{'Content-Disposition':'attachment;\x20filename='+FileName+_0x327ee4(0x1ee)+encodeURIComponent(FileName),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x327ee4(0x188)+_0x280309+_0x327ee4(0x150)+_0x2574d4+_0x327ee4(0x141)+_0x205a63+_0x327ee4(0x170)+expire}});}else{if(_0x4b5942[_0x327ee4(0x191)])return Response[_0x327ee4(0x168)](_0x4b5942[_0x327ee4(0x191)],0x12e);else{if(_0x4b5942[_0x327ee4(0x21a)])return await 代理URL(_0x4b5942[_0x327ee4(0x21a)],_0xec1cb3);else return new Response('不用怀疑！你UUID就是错的！！！',{'status':0x194});}}}}}}else{socks5Address=_0xec1cb3[_0x327ee4(0xef)][_0x327ee4(0x1cc)](_0x327ee4(0x1a0))||socks5Address;if(new RegExp(_0x327ee4(0x1ca),'i')['test'](_0xec1cb3[_0x327ee4(0x10a)]))socks5Address=_0xec1cb3[_0x327ee4(0x10a)][_0x327ee4(0x11e)]('5=')[0x1];else{if(new RegExp(_0x327ee4(0x118),'i')[_0x327ee4(0xe9)](_0xec1cb3[_0x327ee4(0x10a)])||new RegExp(_0x327ee4(0x164),'i')[_0x327ee4(0xe9)](_0xec1cb3[_0x327ee4(0x10a)])){socks5Address=_0xec1cb3[_0x327ee4(0x10a)][_0x327ee4(0x11e)](_0x327ee4(0x1fc))[0x1]['split']('#')[0x0];if(socks5Address[_0x327ee4(0x231)]('@')){let _0x3302c5=socks5Address[_0x327ee4(0x11e)]('@')[0x0];const _0x2e1ff4=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0x2e1ff4[_0x327ee4(0xe9)](_0x3302c5)&&!_0x3302c5[_0x327ee4(0x231)](':'))_0x3302c5=atob(_0x3302c5);socks5Address=_0x3302c5+'@'+socks5Address['split']('@')[0x1];}}}if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x442603){let _0x860f84=_0x442603;console[_0x327ee4(0x128)](_0x860f84[_0x327ee4(0x20c)]()),enableSocks=![];}else enableSocks=![];if(_0xec1cb3[_0x327ee4(0xef)][_0x327ee4(0x200)](_0x327ee4(0x1d9)))proxyIP=_0xec1cb3[_0x327ee4(0xef)]['get']('proxyip'),enableSocks=![];else{if(new RegExp(_0x327ee4(0x156),'i')['test'](_0xec1cb3[_0x327ee4(0x10a)]))proxyIP=_0xec1cb3['pathname']['toLowerCase']()['split'](_0x327ee4(0x156))[0x1],enableSocks=![];else{if(new RegExp(_0x327ee4(0xda),'i')[_0x327ee4(0xe9)](_0xec1cb3[_0x327ee4(0x10a)]))proxyIP=_0x327ee4(0x1d5)+_0xec1cb3[_0x327ee4(0x10a)][_0x327ee4(0x15c)]()[_0x327ee4(0x11e)](_0x327ee4(0xda))[0x1],enableSocks=![];else new RegExp(_0x327ee4(0x1b4),'i')[_0x327ee4(0xe9)](_0xec1cb3[_0x327ee4(0x10a)])&&(proxyIP=_0xec1cb3[_0x327ee4(0x10a)][_0x327ee4(0x15c)]()[_0x327ee4(0x11e)](_0x327ee4(0x1b4))[0x1],enableSocks=![]);}}return await 维列斯OverWSHandler(_0x21bc60);}}catch(_0x1a41da){let _0x194a51=_0x1a41da;return new Response(_0x194a51[_0x327ee4(0x20c)]());}}};async function 维列斯OverWSHandler(_0x588c41){const _0x5c83dd=_0x4b2ee7,_0x141cc7=new WebSocketPair(),[_0x402ac8,_0x172d3a]=Object[_0x5c83dd(0x1f0)](_0x141cc7);_0x172d3a['accept']();let _0x50b20b='',_0x1b5b5d='';const _0x4b43d4=(_0x5a8700,_0x396641)=>{const _0x444723=_0x5c83dd;console[_0x444723(0x128)]('['+_0x50b20b+':'+_0x1b5b5d+']\x20'+_0x5a8700,_0x396641||'');},_0xfbb70=_0x588c41[_0x5c83dd(0x1cd)][_0x5c83dd(0x1cc)](_0x5c83dd(0xf4))||'',_0x78425b=makeReadableWebSocketStream(_0x172d3a,_0xfbb70,_0x4b43d4);let _0x633eb3={'value':null},_0x446350=![];return _0x78425b[_0x5c83dd(0x1e4)](new WritableStream({async 'write'(_0x582c18,_0x2cd044){const _0x4dadd7=_0x5c83dd;if(_0x446350)return await handleDNSQuery(_0x582c18,_0x172d3a,null,_0x4b43d4);if(_0x633eb3[_0x4dadd7(0x116)]){const _0x11ca0c=_0x633eb3['value'][_0x4dadd7(0x1c9)][_0x4dadd7(0x195)]();await _0x11ca0c[_0x4dadd7(0x228)](_0x582c18),_0x11ca0c[_0x4dadd7(0x1fd)]();return;}const {hasError:_0x2257cd,message:_0x358eac,addressType:_0x4ea8bb,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x24d3f4,维列斯Version:维列斯Version=new Uint8Array([0x0,0x0]),isUDP:_0x346367}=process维列斯Header(_0x582c18,userID);_0x50b20b=addressRemote,_0x1b5b5d=portRemote+'--'+Math[_0x4dadd7(0x205)]()+'\x20'+(_0x346367?'udp\x20':_0x4dadd7(0x192))+'\x20';if(_0x2257cd){throw new Error(_0x358eac);return;}if(_0x346367){if(portRemote===0x35)_0x446350=!![];else{throw new Error(_0x4dadd7(0x1d1));return;}}const _0x3d4a2d=new Uint8Array([维列斯Version[0x0],0x0]),_0x4cf273=_0x582c18[_0x4dadd7(0x194)](_0x24d3f4);if(_0x446350)return handleDNSQuery(_0x4cf273,_0x172d3a,_0x3d4a2d,_0x4b43d4);if(!banHosts[_0x4dadd7(0x231)](addressRemote))_0x4b43d4(_0x4dadd7(0xe3)+addressRemote+':'+portRemote),handleTCPOutBound(_0x633eb3,_0x4ea8bb,addressRemote,portRemote,_0x4cf273,_0x172d3a,_0x3d4a2d,_0x4b43d4);else throw new Error('黑名单关闭\x20TCP\x20出站连接\x20'+addressRemote+':'+portRemote);},'close'(){_0x4b43d4('readableWebSocketStream\x20已关闭');},'abort'(_0x1e44d0){const _0x542378=_0x5c83dd;_0x4b43d4(_0x542378(0x1b7),JSON['stringify'](_0x1e44d0));}}))[_0x5c83dd(0x20a)](_0x479e40=>{const _0x42273d=_0x5c83dd;_0x4b43d4(_0x42273d(0x148),_0x479e40);}),new Response(null,{'status':0x65,'webSocket':_0x402ac8});}async function handleTCPOutBound(_0x29fd78,_0x360081,_0x22da69,_0x2727f5,_0x25f787,_0x2fff49,_0x4e6af1,_0x5a3779){async function _0x4cecfb(_0x3f16c9){const _0x17c225=_0x3583;if(go2Socks5s[_0x17c225(0x231)](atob(_0x17c225(0x158)))||go2Socks5s[_0x17c225(0x231)](atob(_0x17c225(0x211))))return!![];return go2Socks5s[_0x17c225(0xfb)](_0x5a3fe0=>{const _0x1f08cf=_0x17c225;let _0x5f5481=_0x5a3fe0['replace'](/\*/g,'.*'),_0x32983a=new RegExp('^'+_0x5f5481+'$','i');return _0x32983a[_0x1f08cf(0xe9)](_0x3f16c9);});}async function _0x89832f(_0x2d966e,_0x46a1e7,_0x210d20=![]){const _0x362556=_0x3583;_0x5a3779(_0x362556(0x138)+_0x2d966e+':'+_0x46a1e7);const _0x1411f4=_0x210d20?await socks5Connect(_0x360081,_0x2d966e,_0x46a1e7,_0x5a3779):connect({'hostname':_0x2d966e,'port':_0x46a1e7});_0x29fd78[_0x362556(0x116)]=_0x1411f4;const _0x36ddea=_0x1411f4[_0x362556(0x1c9)]['getWriter']();return await _0x36ddea[_0x362556(0x228)](_0x25f787),_0x36ddea[_0x362556(0x1fd)](),_0x1411f4;}async function _0x30be4b(){const _0x5e908c=_0x3583;if(enableSocks)_0x5df61c=await _0x89832f(_0x22da69,_0x2727f5,!![]);else{if(!proxyIP||proxyIP=='')proxyIP=atob(_0x5e908c(0x1a5));else{if(proxyIP['includes'](']:'))_0x2727f5=proxyIP['split'](']:')[0x1]||_0x2727f5,proxyIP=proxyIP[_0x5e908c(0x11e)](']:')[0x0]||proxyIP;else proxyIP[_0x5e908c(0x11e)](':')[_0x5e908c(0xfd)]===0x2&&(_0x2727f5=proxyIP[_0x5e908c(0x11e)](':')[0x1]||_0x2727f5,proxyIP=proxyIP[_0x5e908c(0x11e)](':')[0x0]||proxyIP);}if(proxyIP[_0x5e908c(0x231)](_0x5e908c(0xf6)))_0x2727f5=proxyIP[_0x5e908c(0x11e)](_0x5e908c(0xf6))[0x1][_0x5e908c(0x11e)]('.')[0x0]||_0x2727f5;_0x5df61c=await _0x89832f(proxyIP||_0x22da69,_0x2727f5);}_0x5df61c[_0x5e908c(0x127)][_0x5e908c(0x20a)](_0x17272a=>{const _0x22c487=_0x5e908c;console[_0x22c487(0x128)](_0x22c487(0x213),_0x17272a);})[_0x5e908c(0x1c0)](()=>{safeCloseWebSocket(_0x2fff49);}),remoteSocketToWS(_0x5df61c,_0x2fff49,_0x4e6af1,null,_0x5a3779);}let _0x4bfda7=![];if(go2Socks5s['length']>0x0&&enableSocks)_0x4bfda7=await _0x4cecfb(_0x22da69);let _0x5df61c=await _0x89832f(_0x22da69,_0x2727f5,_0x4bfda7);remoteSocketToWS(_0x5df61c,_0x2fff49,_0x4e6af1,_0x30be4b,_0x5a3779);}function makeReadableWebSocketStream(_0x1b4174,_0x334c97,_0x52a29a){let _0x3f228a=![];const _0x2eb4cb=new ReadableStream({'start'(_0xf48208){const _0x129867=_0x3583;_0x1b4174['addEventListener'](_0x129867(0x144),_0x1dba22=>{const _0x17c075=_0x129867;if(_0x3f228a)return;const _0x5a42b6=_0x1dba22[_0x17c075(0x179)];_0xf48208[_0x17c075(0xe0)](_0x5a42b6);}),_0x1b4174[_0x129867(0x13f)]('close',()=>{const _0x3a53f6=_0x129867;safeCloseWebSocket(_0x1b4174);if(_0x3f228a)return;_0xf48208[_0x3a53f6(0xf9)]();}),_0x1b4174[_0x129867(0x13f)](_0x129867(0xe2),_0x15086e=>{_0x52a29a('WebSocket\x20服务器发生错误'),_0xf48208['error'](_0x15086e);});const {earlyData:_0x586175,error:_0x40e5f4}=base64ToArrayBuffer(_0x334c97);if(_0x40e5f4)_0xf48208[_0x129867(0xe2)](_0x40e5f4);else _0x586175&&_0xf48208[_0x129867(0xe0)](_0x586175);},'pull'(_0x49e41c){},'cancel'(_0x3d1433){if(_0x3f228a)return;_0x52a29a('可读流被取消，原因是\x20'+_0x3d1433),_0x3f228a=!![],safeCloseWebSocket(_0x1b4174);}});return _0x2eb4cb;}function process维列斯Header(_0x4b33b3,_0x331c3a){const _0x44f89a=_0x4b2ee7;if(_0x4b33b3[_0x44f89a(0x162)]<0x18)return{'hasError':!![],'message':_0x44f89a(0x190)};const _0x31694f=new Uint8Array(_0x4b33b3[_0x44f89a(0x194)](0x0,0x1));let _0x212bab=![],_0x480d7a=![];function _0x270817(_0x2eaf8d,_0x3838f7,_0x4ba4e5){const _0x28f8b6=_0x44f89a,_0x503163=new Uint8Array(_0x4ba4e5[_0x28f8b6(0x194)](0x1,0x11)),_0x29e357=stringify(_0x503163);return _0x29e357===_0x2eaf8d||_0x29e357===_0x3838f7;}_0x212bab=_0x270817(_0x331c3a,userIDLow,_0x4b33b3);if(!_0x212bab)return{'hasError':!![],'message':'invalid\x20user\x20'+new Uint8Array(_0x4b33b3['slice'](0x1,0x11))};const _0x43cf9d=new Uint8Array(_0x4b33b3['slice'](0x11,0x12))[0x0],_0x413f6e=new Uint8Array(_0x4b33b3['slice'](0x12+_0x43cf9d,0x12+_0x43cf9d+0x1))[0x0];if(_0x413f6e===0x1){}else{if(_0x413f6e===0x2)_0x480d7a=!![];else return{'hasError':!![],'message':_0x44f89a(0x160)+_0x413f6e+'\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux'};}const _0x52877b=0x12+_0x43cf9d+0x1,_0x4a3c13=_0x4b33b3[_0x44f89a(0x194)](_0x52877b,_0x52877b+0x2),_0x413292=new DataView(_0x4a3c13)[_0x44f89a(0x1f8)](0x0);let _0x10e11d=_0x52877b+0x2;const _0x54c3a0=new Uint8Array(_0x4b33b3[_0x44f89a(0x194)](_0x10e11d,_0x10e11d+0x1)),_0x3c11c7=_0x54c3a0[0x0];let _0x66c028=0x0,_0x3ccc9e=_0x10e11d+0x1,_0x49b4bf='';switch(_0x3c11c7){case 0x1:_0x66c028=0x4,_0x49b4bf=new Uint8Array(_0x4b33b3[_0x44f89a(0x194)](_0x3ccc9e,_0x3ccc9e+_0x66c028))[_0x44f89a(0x15d)]('.');break;case 0x2:_0x66c028=new Uint8Array(_0x4b33b3[_0x44f89a(0x194)](_0x3ccc9e,_0x3ccc9e+0x1))[0x0],_0x3ccc9e+=0x1,_0x49b4bf=new TextDecoder()[_0x44f89a(0x207)](_0x4b33b3[_0x44f89a(0x194)](_0x3ccc9e,_0x3ccc9e+_0x66c028));break;case 0x3:_0x66c028=0x10;const _0x52c1a3=new DataView(_0x4b33b3[_0x44f89a(0x194)](_0x3ccc9e,_0x3ccc9e+_0x66c028)),_0x147f67=[];for(let _0x163df2=0x0;_0x163df2<0x8;_0x163df2++){_0x147f67[_0x44f89a(0x1e0)](_0x52c1a3[_0x44f89a(0x1f8)](_0x163df2*0x2)['toString'](0x10));}_0x49b4bf=_0x147f67[_0x44f89a(0x15d)](':');break;default:return{'hasError':!![],'message':'invild\x20addressType\x20is\x20'+_0x3c11c7};}if(!_0x49b4bf)return{'hasError':!![],'message':_0x44f89a(0x18f)+_0x3c11c7};return{'hasError':![],'addressRemote':_0x49b4bf,'addressType':_0x3c11c7,'portRemote':_0x413292,'rawDataIndex':_0x3ccc9e+_0x66c028,'维列斯Version':_0x31694f,'isUDP':_0x480d7a};}async function remoteSocketToWS(_0x54bcde,_0x5e837,_0x443adc,_0x1aaa61,_0x47ddad){const _0x2c68ef=_0x4b2ee7;let _0x2caa82=0x0,_0x4b8536=[],_0x2c48b2=_0x443adc,_0x55687b=![];await _0x54bcde['readable']['pipeTo'](new WritableStream({'start'(){},async 'write'(_0x3be37b,_0x7ac1fb){const _0x280efc=_0x3583;_0x55687b=!![],_0x5e837['readyState']!==WS_READY_STATE_OPEN&&_0x7ac1fb[_0x280efc(0xe2)](_0x280efc(0x14f)),_0x2c48b2?(_0x5e837[_0x280efc(0x173)](await new Blob([_0x2c48b2,_0x3be37b])[_0x280efc(0xe4)]()),_0x2c48b2=null):_0x5e837[_0x280efc(0x173)](_0x3be37b);},'close'(){const _0x55a255=_0x3583;_0x47ddad(_0x55a255(0x177)+_0x55687b);},'abort'(_0x15351b){const _0x4ba6b5=_0x3583;console['error'](_0x4ba6b5(0x12b),_0x15351b);}}))['catch'](_0x49af3d=>{const _0x40a7d0=_0x3583;console['error'](_0x40a7d0(0x1d7),_0x49af3d[_0x40a7d0(0xe5)]||_0x49af3d),safeCloseWebSocket(_0x5e837);}),_0x55687b===![]&&_0x1aaa61&&(_0x47ddad(_0x2c68ef(0x1a3)),_0x1aaa61());}function base64ToArrayBuffer(_0x45d236){const _0x51db08=_0x4b2ee7;if(!_0x45d236)return{'earlyData':undefined,'error':null};try{_0x45d236=_0x45d236[_0x51db08(0x1ea)](/-/g,'+')['replace'](/_/g,'/');const _0x237650=atob(_0x45d236),_0x1994d8=Uint8Array[_0x51db08(0x21c)](_0x237650,_0x467972=>_0x467972[_0x51db08(0x1bc)](0x0));return{'earlyData':_0x1994d8['buffer'],'error':null};}catch(_0x351061){return{'earlyData':undefined,'error':_0x351061};}}function isValidUUID(_0x370d57){const _0x16c6f9=_0x4b2ee7,_0x385a24=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x385a24[_0x16c6f9(0xe9)](_0x370d57);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x3732ad){const _0x17baf7=_0x4b2ee7;try{(_0x3732ad[_0x17baf7(0x124)]===WS_READY_STATE_OPEN||_0x3732ad[_0x17baf7(0x124)]===WS_READY_STATE_CLOSING)&&_0x3732ad[_0x17baf7(0xf9)]();}catch(_0x47ee6e){console[_0x17baf7(0xe2)]('safeCloseWebSocket\x20error',_0x47ee6e);}}function _0x520a(){const _0x4e9451=['http://','push','<br>UUIDLow:\x20','c3BlZWQuY2xvdWRmbGFyZS5jb20=','\x20）:\x20<br>&nbsp;&nbsp;','pipeTo','&security=','CFPORTS','链接地址','虚假HOST:\x20','PROXYIP','replace','\x0a国家:\x20','text','workers.dev',';\x20filename*=utf-8\x27\x27','hostname','values','statusText','已发送\x20SOCKS5\x20请求','2087','，期望是\x205','abort','保存KV时发生错误:','162.159.152.0/23','getUint16','<br>\x0a\x09\x09\x09UA:\x20','set','读取KV时发生错误:','://','releaseLock','CFCDN（访问方式）:\x20自动获取ProxyIP<br>','8080','has','42975FAbasx','读取数据时发生错误:\x20','接口地址','.workers.dev','random','SOCKS5\x20服务器需要认证','decode','dmlzYS5jbg==','SUBNAME','catch','\x0aASN:\x20','toString','\x22\x0a\x09\x09\x09\x09\x09\x09id=\x22content\x22>','search','?clash\x27,\x27qrcode_2\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','CFCDN（访问方式）:\x20Socks5<br>&nbsp;&nbsp;','Kg==','<div\x20style=\x22font-size:13px;\x22>','retry\x20tcpSocket\x20closed\x20error','&type=','服务器错误:\x20','4612VOogJw','status','Error\x20fetching\x20content:','&insert=false&config=','URL','trim','from','&path=','pswd','charAt','MD5','readable','add','pop','8335090RQLBFz','44646XICrva','&emoji=','HOST:\x20','write','EMOJI','?b64</a><br>\x0a\x09\x09\x09<div\x20id=\x22qrcode_1\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x09\x09\x09clash订阅地址:<br>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','<br>\x0a\x09\x09\x09UUID:\x20','<br>UUIDNow:\x20','url','DLS','\x27>优选订阅生成器</a>\x20至：sub.google.com，您可将\x22?sub=sub.google.com\x22参数添加到链接末尾，例如：<br>\x0a\x09\x09\x09\x09\x09&nbsp;&nbsp;https://',',\x20client-fingerprint:\x20','includes','/sendMessage?chat_id=','8443','SOCKS5\x20连接建立失败','&fp=','&sni=','虚假订阅:\x20','190.93.240.0/21','\x20已启用临时域名中转服务，请尽快绑定自定义域！','/proxyip.','2082','notls','digest','8.8.4.4','function','enqueue','handleDNSQuery\x20函数发生异常，错误信息:\x20','error','处理\x20TCP\x20出站连接\x20','arrayBuffer','stack','已发送\x20SOCKS5\x20问候消息','https://api.telegram.org/bot','stringify','test','2096','base64','无效的\x20SOCKS\x20地址格式：认证部分必须是\x20\x22username:password\x22\x20的形式','https://','aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvY29uZmlnL0FDTDRTU1JfT25saW5lX01pbmlfTXVsdGlNb2RlLmluaQ==','searchParams','172.64.0.0/14','b64','2095','org','sec-websocket-protocol','&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','.tp','104.24.0.0/14','text/plain;charset=utf-8','close','?loon\x27,\x27qrcode_5\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','some','104.24.0.0/15','length','保存成功','ADD.txt','body','padStart','allSettled','reverse','\x0a\x09\x09\x09\x09\x09<textarea\x20class=\x22editor\x22\x20\x0a\x09\x09\x09\x09\x09\x09placeholder=\x22','RPROXYIP','false','ADDCSV','104.16.0.0/13','ADDNOTLS（noTLS优选域名&IP）:\x20<br>&nbsp;&nbsp;','pathname','<br>SUB（优选订阅生成器）:\x20','\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22editor-container\x22>\x0a\x09\x09\x09\x09\x09','worker','find','-\x20{name:\x20','<br>您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供','?lang=zh-CN','\x20<a\x20href=\x27','IENGLVdvcmtlcnMtZWRnZXR1bm5lbC9jbWxpdQ==','</textarea>\x0a\x09\x09\x09\x09\x09<div\x20class=\x22save-container\x22>\x0a\x09\x09\x09\x09\x09\x09<button\x20class=\x22back-btn\x22\x20onclick=\x22goBack()\x22>返回配置页</button>\x0a\x09\x09\x09\x09\x09\x09<button\x20class=\x22save-btn\x22\x20onclick=\x22saveContent(this)\x22>保存</button>\x0a\x09\x09\x09\x09\x09\x09<span\x20class=\x22save-status\x22\x20id=\x22saveStatus\x22></span>\x0a\x09\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09\x09<br>\x0a\x09\x09\x09\x09\x09################################################################<br>\x0a\x09\x09\x09\x09\x09','1385VHEjXs','value','text/html;charset=utf-8','/socks://','http','TOKEN','SUBCONFIG','.net','SUB','split','GO2SOCKS5','1692894pWZwqD','到期时间(UTC):\x20','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','fulfilled','readyState','ceil','KEY','closed','log',',\x20server:\x20','JmVkZ2V0dW5uZWw9Y21saXUmcHJveHlpcD0=','remoteConnection!.readable\x20abort','signal','<br>\x0a\x09\x09\x09','?encry','reject','<br>SUBCONFIG（订阅转换配置文件）:\x20','clash','UPTIME','ADDAPI','aHR0cHM6Ly9naXRodWIuY29tL2NtbGl1L1dvcmtlclZsZXNzMnN1Yg==','<strong>?proxyip=proxyip.cmliussss.net:443</strong><br>\x0a\x09\x09\x09\x09\x09<br>\x0a\x09\x09\x09\x09\x09<strong>5.</strong>\x20快速更换\x20SOCKS5\x20至：user:password@127.0.0.1:1080，您可将\x22?socks5=user:password@127.0.0.1:1080\x22参数添加到链接末尾，例如：<br>\x0a\x09\x09\x09\x09\x09&nbsp;&nbsp;https://','toUpperCase','getReader','connected\x20to\x20','concat','substr','ADDNOTLSAPI（noTLS优选域名&IP\x20的\x20API）:\x20<br>&nbsp;&nbsp;','dGVsZWdyYW0lMjAlRTQlQkElQTQlRTYlQjUlODElRTclQkUlQTQlMjAlRTYlOEElODAlRTYlOUMlQUYlRTUlQTQlQTclRTQlQkQlQUMlN0UlRTUlOUMlQTglRTclQkElQkYlRTUlOEYlOTElRTclODklOEMhJTNDYnIlM0UKJTNDYSUyMGhyZWYlM0QlMjdodHRwcyUzQSUyRiUyRnQubWUlMkZDTUxpdXNzc3MlMjclM0VodHRwcyUzQSUyRiUyRnQubWUlMkZDTUxpdXNzc3MlM0MlMkZhJTNFJTNDYnIlM0UKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJTNDYnIlM0UKZ2l0aHViJTIwJUU5JUExJUI5JUU3JTlCJUFFJUU1JTlDJUIwJUU1JTlEJTgwJTIwU3RhciFTdGFyIVN0YXIhISElM0NiciUzRQolM0NhJTIwaHJlZiUzRCUyN2h0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmNtbGl1JTJGZWRnZXR1bm5lbCUyNyUzRWh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmNtbGl1JTJGZWRnZXR1bm5lbCUzQyUyRmElM0UlM0NiciUzRQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0lM0NiciUzRQolMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjM=','2960226yvAdvV','read','addEventListener','/sub?target=loon&url=',';\x20total=','处理请求时发生错误:','&host=','message','请设置你的UUID变量，或尝试重试部署，检查变量是否生效？','ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20<br>&nbsp;&nbsp;','ADD','readableWebSocketStream\x20管道错误','<strong>?socks5=user:password@127.0.0.1:1080</strong><br>\x0a\x09\x09\x09\x09\x09<br>\x0a\x09\x09\x09\x09\x09<strong>6.</strong>\x20如需指定多个参数则需要使用\x27&\x27做间隔，例如：<br>\x0a\x09\x09\x09\x09\x09&nbsp;&nbsp;https://','.pages.dev','#CF随机节点','<strong>?sub=sub.google.com</strong><br>\x0a\x09\x09\x09\x09\x09<br>\x0a\x09\x09\x09\x09\x09<strong>4.</strong>\x20快速更换\x20PROXYIP\x20至：proxyip.cmliussss.net:443，您可将\x22?proxyip=proxyip.cmliussss.net:443\x22参数添加到链接末尾，例如：<br>\x0a\x09\x09\x09\x09\x09&nbsp;&nbsp;\x20https://','Host','优选地址','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close',';\x20download=','/?ed=2560&socks5=','\x0a\x09\x09\x09################################################################<br>\x0a\x09\x09\x09Subscribe\x20/\x20sub\x20订阅地址,\x20点击链接自动\x20<strong>复制订阅链接</strong>\x20并\x20<strong>生成订阅二维码</strong>\x20<br>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09自适应订阅地址:<br>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','\x0a<tg-spoiler>','\x20时（北京时间）<br><br>','Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.','/proxyip=','DNS\x20服务器(','YWxsIGlu','pow','/edit','SOCKS5\x20服务器版本错误:\x20收到\x20','toLowerCase','join','\x22,\x20headers:\x20{','\x0a组织:\x20','command\x20','?sub=sub.google.com<strong>&</strong>proxyip=proxyip.cmliussss.net<br>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09<script\x20src=\x22https://cdn.jsdelivr.net/npm/@keeex/qrcodejs-kx@1.0.2/qrcode.min.js\x22></script>\x0a\x09\x09\x09<script>\x0a\x09\x09\x09function\x20copyToClipboard(text,\x20qrcode)\x20{\x0a\x09\x09\x09\x09navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x09\x09\x09\x09\x09alert(\x27已复制到剪贴板\x27);\x0a\x09\x09\x09\x09}).catch(err\x20=>\x20{\x0a\x09\x09\x09\x09\x09console.error(\x27复制失败:\x27,\x20err);\x0a\x09\x09\x09\x09});\x0a\x09\x09\x09\x09const\x20qrcodeDiv\x20=\x20document.getElementById(qrcode);\x0a\x09\x09\x09\x09qrcodeDiv.innerHTML\x20=\x20\x27\x27;\x0a\x09\x09\x09\x09new\x20QRCode(qrcodeDiv,\x20{\x0a\x09\x09\x09\x09\x09text:\x20text,\x0a\x09\x09\x09\x09\x09width:\x20220,\x20//\x20调整宽度\x0a\x09\x09\x09\x09\x09height:\x20220,\x20//\x20调整高度\x0a\x09\x09\x09\x09\x09colorDark:\x20\x22#000000\x22,\x20//\x20二维码颜色\x0a\x09\x09\x09\x09\x09colorLight:\x20\x22#ffffff\x22,\x20//\x20背景颜色\x0a\x09\x09\x09\x09\x09correctLevel:\x20QRCode.CorrectLevel.Q,\x20//\x20设置纠错级别\x0a\x09\x09\x09\x09\x09scale:\x201\x20//\x20调整像素颗粒度\x0a\x09\x09\x09\x09});\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09function\x20toggleNotice()\x20{\x0a\x09\x09\x09\x09const\x20noticeContent\x20=\x20document.getElementById(\x27noticeContent\x27);\x0a\x09\x09\x09\x09const\x20noticeToggle\x20=\x20document.getElementById(\x27noticeToggle\x27);\x0a\x09\x09\x09\x09if\x20(noticeContent.style.display\x20===\x20\x27none\x27)\x20{\x0a\x09\x09\x09\x09\x09noticeContent.style.display\x20=\x20\x27block\x27;\x0a\x09\x09\x09\x09\x09noticeToggle.textContent\x20=\x20\x27实用订阅技巧∧\x27;\x0a\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09noticeContent.style.display\x20=\x20\x27none\x27;\x20\x0a\x09\x09\x09\x09\x09noticeToggle.textContent\x20=\x20\x27实用订阅技巧∨\x27;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}\x0a\x09\x09\x09</script>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09################################################################<br>\x0a\x09\x09\x09','byteLength','\x0a\x09\x09\x09','/socks5://','?b64\x27,\x27qrcode_1\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','mozilla','TGID','redirect','CFCDN（访问方式）:\x20ProxyIP<br>&nbsp;&nbsp;','true','delete','\x0a\x09\x09\x09\x09\x09','*.loadshare.org','CSVREMARK','?sb</a><br>\x0a\x09\x09\x09<div\x20id=\x22qrcode_3\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x09\x09\x09loon订阅地址:<br>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://',';\x20expire=','ADDNOTLS','Error\x20fetching\x20content:\x20','send','subconverter','protocol','<br>&nbsp;&nbsp;','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','TRUE','data','/edit\x27>编辑优选列表</a>','\x27,\x27qrcode_v2ray\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>','443','ADDNOTLSAPI','无效的\x20SOCKS\x20地址格式：端口号必须是数字',',\x20alpn:\x20[h3],\x20udp:\x20false,\x20sni:\x20','4bgDNAv','未绑定KV空间','Mozilla/5.0\x20Chrome/90.0.4430.72','setHours','floor','<p>未绑定KV空间</p>','TGTOKEN','BAN','upload=','match','websocket','P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT0mdHlwZT13cyZob3N0PQ==',',\x20tls:\x20','CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！<br>','获取CSV地址时出错:','addressValue\x20is\x20empty,\x20addressType\x20is\x20','invalid\x20data','URL302','tcp\x20','/sub?target=singbox&url=','slice','getWriter','.xyz','<br>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09################################################################<br>\x0a\x09\x09\x09v2ray<br>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27','FALSE','getTime','sub','2083','?sub\x27,\x27qrcode_0\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','\x20配置信息<br>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09','null','SOCKS5','socks5','?loon</a><br>\x0a\x09\x09\x09<div\x20id=\x22qrcode_5\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x09\x09\x09<strong><a\x20href=\x22javascript:void(0);\x22\x20id=\x22noticeToggle\x22\x20onclick=\x22toggleNotice()\x22>实用订阅技巧∨</a></strong><br>\x0a\x09\x09\x09\x09<div\x20id=\x22noticeContent\x22\x20class=\x22notice-content\x22\x20style=\x22display:\x20none;\x22>\x0a\x09\x09\x09\x09\x09<strong>1.</strong>\x20如您使用的是\x20PassWall、PassWall2\x20路由插件，订阅编辑的\x20<strong>用户代理(User-Agent)</strong>\x20设置为\x20<strong>PassWall</strong>\x20即可；<br>\x0a\x09\x09\x09\x09\x09<br>\x0a\x09\x09\x09\x09\x09<strong>2.</strong>\x20如您使用的是\x20SSR+\x20路由插件，推荐使用\x20<strong>Base64订阅地址</strong>\x20进行订阅；<br>\x0a\x09\x09\x09\x09\x09<br>\x0a\x09\x09\x09\x09\x09<strong>3.</strong>\x20快速切换\x20<a\x20href=\x27','<br>SUBAPI（订阅转换后端）:\x20','retry','188.114.96.0/21','UFJPWFlJUC50cDEuMDkwMjI3Lnh5eg==','randomized','141.101.64.0/19','连接到\x20','now','https','78874YpeTXW','?sb\x27,\x27qrcode_3\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','SHA-256','put','text/html,application/xhtml+xml,application/xml;','\x0a<tg-spoiler>城市:\x20','LINK','proxyip=true','application/json','/pyip=','SUBEMOJI','无效的\x20SOCKS\x20地址格式：IPv6\x20地址必须用方括号括起来，如\x20[2001:db8::1]','readableWebSocketStream\x20已中止','保存失败:\x20','flatMap','176VagkNa','ZWRnZXR1bm5lbA==','charCodeAt','&proxyip=','singbox','获取地址时出错:','finally','*tapecontent.net','</div>','<br>','CF-Workers-SUB','ZG14bGMzTT0=','subtle','&parse_mode=HTML&text=','/sub?target=clash&url=','writable','/socks5=','filter','get','headers','encode','indexOf','2053','UDP\x20代理仅对\x20DNS（53\x20端口）启用','map','2052','SOCKS5\x20服务器认证失败','proxyip.','服务器不接受任何认证方法','remoteSocketToWS\x20has\x20exception\x20','loon','proxyip','TLS','8880','socks','toISOString','}}}'];_0x520a=function(){return _0x4e9451;};return _0x520a();}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0x4b2ee7(0x1e0)]((i+0x100)[_0x4b2ee7(0x20c)](0x10)[_0x4b2ee7(0x194)](0x1));}function unsafeStringify(_0x32afc4,_0x248017=0x0){const _0x503b84=_0x4b2ee7;return(byteToHex[_0x32afc4[_0x248017+0x0]]+byteToHex[_0x32afc4[_0x248017+0x1]]+byteToHex[_0x32afc4[_0x248017+0x2]]+byteToHex[_0x32afc4[_0x248017+0x3]]+'-'+byteToHex[_0x32afc4[_0x248017+0x4]]+byteToHex[_0x32afc4[_0x248017+0x5]]+'-'+byteToHex[_0x32afc4[_0x248017+0x6]]+byteToHex[_0x32afc4[_0x248017+0x7]]+'-'+byteToHex[_0x32afc4[_0x248017+0x8]]+byteToHex[_0x32afc4[_0x248017+0x9]]+'-'+byteToHex[_0x32afc4[_0x248017+0xa]]+byteToHex[_0x32afc4[_0x248017+0xb]]+byteToHex[_0x32afc4[_0x248017+0xc]]+byteToHex[_0x32afc4[_0x248017+0xd]]+byteToHex[_0x32afc4[_0x248017+0xe]]+byteToHex[_0x32afc4[_0x248017+0xf]])[_0x503b84(0x15c)]();}function _0x3583(_0x5ba5bf,_0x291771){const _0x520acb=_0x520a();return _0x3583=function(_0x35835a,_0x186ecc){_0x35835a=_0x35835a-0xd3;let _0x1d146d=_0x520acb[_0x35835a];return _0x1d146d;},_0x3583(_0x5ba5bf,_0x291771);}function stringify(_0x6f503f,_0x133485=0x0){const _0x13fa4a=unsafeStringify(_0x6f503f,_0x133485);if(!isValidUUID(_0x13fa4a))throw TypeError('生成的\x20UUID\x20不符合规范\x20'+_0x13fa4a);return _0x13fa4a;}async function handleDNSQuery(_0x10a396,_0x7bf738,_0x2db96f,_0x2578fc){const _0xfa2437=_0x4b2ee7;try{const _0x18256e=_0xfa2437(0xde),_0x5eb701=0x35;let _0x28e4be=_0x2db96f;const _0x103564=connect({'hostname':_0x18256e,'port':_0x5eb701});_0x2578fc(_0xfa2437(0x1a8)+_0x18256e+':'+_0x5eb701);const _0x8cf41b=_0x103564[_0xfa2437(0x1c9)]['getWriter']();await _0x8cf41b[_0xfa2437(0x228)](_0x10a396),_0x8cf41b['releaseLock'](),await _0x103564[_0xfa2437(0x221)][_0xfa2437(0x1e4)](new WritableStream({async 'write'(_0x4cab69){const _0x3926bc=_0xfa2437;_0x7bf738[_0x3926bc(0x124)]===WS_READY_STATE_OPEN&&(_0x28e4be?(_0x7bf738[_0x3926bc(0x173)](await new Blob([_0x28e4be,_0x4cab69])[_0x3926bc(0xe4)]()),_0x28e4be=null):_0x7bf738['send'](_0x4cab69));},'close'(){const _0x42ecf3=_0xfa2437;_0x2578fc(_0x42ecf3(0x157)+_0x18256e+')\x20TCP\x20连接已关闭');},'abort'(_0x504b94){const _0x4d8f86=_0xfa2437;console[_0x4d8f86(0xe2)](_0x4d8f86(0x157)+_0x18256e+')\x20TCP\x20连接异常中断',_0x504b94);}}));}catch(_0x5cc708){console[_0xfa2437(0xe2)](_0xfa2437(0xe1)+_0x5cc708['message']);}}async function socks5Connect(_0x26758c,_0xdd33c0,_0x102683,_0x577969){const _0x31f5fa=_0x4b2ee7,{username:_0x32fe06,password:_0x2d2c2e,hostname:_0x3890e6,port:_0x2c8015}=parsedSocks5Address,_0x425a17=connect({'hostname':_0x3890e6,'port':_0x2c8015}),_0xb7a78e=new Uint8Array([0x5,0x2,0x0,0x2]),_0x3da2bb=_0x425a17[_0x31f5fa(0x1c9)]['getWriter']();await _0x3da2bb['write'](_0xb7a78e),_0x577969(_0x31f5fa(0xe6));const _0x2d38f0=_0x425a17[_0x31f5fa(0x221)][_0x31f5fa(0x137)](),_0x4bcc40=new TextEncoder();let _0x45f8d6=(await _0x2d38f0[_0x31f5fa(0x13e)]())[_0x31f5fa(0x116)];if(_0x45f8d6[0x0]!==0x5){_0x577969(_0x31f5fa(0x15b)+_0x45f8d6[0x0]+_0x31f5fa(0x1f4));return;}if(_0x45f8d6[0x1]===0xff){_0x577969(_0x31f5fa(0x1d6));return;}if(_0x45f8d6[0x1]===0x2){_0x577969(_0x31f5fa(0x206));if(!_0x32fe06||!_0x2d2c2e){_0x577969('请提供用户名和密码');return;}const _0x36341b=new Uint8Array([0x1,_0x32fe06['length'],..._0x4bcc40[_0x31f5fa(0x1ce)](_0x32fe06),_0x2d2c2e['length'],..._0x4bcc40[_0x31f5fa(0x1ce)](_0x2d2c2e)]);await _0x3da2bb[_0x31f5fa(0x228)](_0x36341b),_0x45f8d6=(await _0x2d38f0[_0x31f5fa(0x13e)]())['value'];if(_0x45f8d6[0x0]!==0x1||_0x45f8d6[0x1]!==0x0){_0x577969(_0x31f5fa(0x1d4));return;}}let _0x2b73ad;switch(_0x26758c){case 0x1:_0x2b73ad=new Uint8Array([0x1,..._0xdd33c0['split']('.')[_0x31f5fa(0x1d2)](Number)]);break;case 0x2:_0x2b73ad=new Uint8Array([0x3,_0xdd33c0[_0x31f5fa(0xfd)],..._0x4bcc40['encode'](_0xdd33c0)]);break;case 0x3:_0x2b73ad=new Uint8Array([0x4,..._0xdd33c0[_0x31f5fa(0x11e)](':')[_0x31f5fa(0x1b9)](_0x4697dc=>[parseInt(_0x4697dc[_0x31f5fa(0x194)](0x0,0x2),0x10),parseInt(_0x4697dc[_0x31f5fa(0x194)](0x2),0x10)])]);break;default:_0x577969('无效的地址类型:\x20'+_0x26758c);return;}const _0x113879=new Uint8Array([0x5,0x1,0x0,..._0x2b73ad,_0x102683>>0x8,_0x102683&0xff]);await _0x3da2bb['write'](_0x113879),_0x577969(_0x31f5fa(0x1f2)),_0x45f8d6=(await _0x2d38f0[_0x31f5fa(0x13e)]())['value'];if(_0x45f8d6[0x1]===0x0)_0x577969('SOCKS5\x20连接已建立');else{_0x577969(_0x31f5fa(0xd4));return;}return _0x3da2bb[_0x31f5fa(0x1fd)](),_0x2d38f0[_0x31f5fa(0x1fd)](),_0x425a17;}function socks5AddressParser(_0xc99b20){const _0x13c2ed=_0x4b2ee7;let [_0x5027ef,_0x5e4a88]=_0xc99b20['split']('@')[_0x13c2ed(0x103)](),_0x17e44a,_0x5081e5,_0x26997c,_0x69aa9a;if(_0x5e4a88){const _0x562eb5=_0x5e4a88[_0x13c2ed(0x11e)](':');if(_0x562eb5[_0x13c2ed(0xfd)]!==0x2)throw new Error(_0x13c2ed(0xec));[_0x17e44a,_0x5081e5]=_0x562eb5;}const _0x441173=_0x5027ef[_0x13c2ed(0x11e)](':');_0x69aa9a=Number(_0x441173[_0x13c2ed(0x223)]());if(isNaN(_0x69aa9a))throw new Error(_0x13c2ed(0x17e));_0x26997c=_0x441173[_0x13c2ed(0x15d)](':');const _0x19afec=/^\[.*\]$/;if(_0x26997c['includes'](':')&&!_0x19afec[_0x13c2ed(0xe9)](_0x26997c))throw new Error(_0x13c2ed(0x1b6));return{'username':_0x17e44a,'password':_0x5081e5,'hostname':_0x26997c,'port':_0x69aa9a};}function 恢复伪装信息(_0x42f1d0,_0x328905,_0x5ee0d3,_0x523e19,_0x3fa0b3,_0x1d0213){const _0x42a275=_0x4b2ee7;if(_0x1d0213)_0x42f1d0=atob(_0x42f1d0);_0x42f1d0=_0x42f1d0[_0x42a275(0x1ea)](new RegExp(_0x523e19,'g'),_0x328905)[_0x42a275(0x1ea)](new RegExp(_0x3fa0b3,'g'),_0x5ee0d3);if(_0x1d0213)_0x42f1d0=btoa(_0x42f1d0);return _0x42f1d0;}async function 双重哈希(_0x3e3d89){const _0x15da67=_0x4b2ee7,_0x283ab4=new TextEncoder(),_0x233a8e=await crypto[_0x15da67(0x1c6)][_0x15da67(0xdd)]('MD5',_0x283ab4[_0x15da67(0x1ce)](_0x3e3d89)),_0xd1991=Array['from'](new Uint8Array(_0x233a8e)),_0x1a2516=_0xd1991[_0x15da67(0x1d2)](_0x162beb=>_0x162beb[_0x15da67(0x20c)](0x10)[_0x15da67(0x101)](0x2,'0'))['join'](''),_0x7f45cb=await crypto[_0x15da67(0x1c6)][_0x15da67(0xdd)](_0x15da67(0x220),_0x283ab4['encode'](_0x1a2516['slice'](0x7,0x1b))),_0x48ef4e=Array['from'](new Uint8Array(_0x7f45cb)),_0x3550a2=_0x48ef4e[_0x15da67(0x1d2)](_0x255c6b=>_0x255c6b[_0x15da67(0x20c)](0x10)['padStart'](0x2,'0'))[_0x15da67(0x15d)]('');return _0x3550a2[_0x15da67(0x15c)]();}async function 代理URL(_0x32e8d1,_0x43692b){const _0x2234cd=_0x4b2ee7,_0x13f415=await 整理(_0x32e8d1),_0x2f9770=_0x13f415[Math['floor'](Math[_0x2234cd(0x205)]()*_0x13f415[_0x2234cd(0xfd)])];let _0x5cb6fd=new URL(_0x2f9770);console['log'](_0x5cb6fd);let _0xc919f2=_0x5cb6fd[_0x2234cd(0x175)][_0x2234cd(0x194)](0x0,-0x1)||_0x2234cd(0x1aa),_0x208fb0=_0x5cb6fd[_0x2234cd(0x1ef)],_0x35451b=_0x5cb6fd[_0x2234cd(0x10a)],_0x3a7a64=_0x5cb6fd[_0x2234cd(0x20e)];_0x35451b[_0x2234cd(0x21f)](_0x35451b[_0x2234cd(0xfd)]-0x1)=='/'&&(_0x35451b=_0x35451b['slice'](0x0,-0x1));_0x35451b+=_0x43692b[_0x2234cd(0x10a)];let _0x1ac68d=_0xc919f2+_0x2234cd(0x1fc)+_0x208fb0+_0x35451b+_0x3a7a64,_0x19bd7f=await fetch(_0x1ac68d),_0x5a5bd0=new Response(_0x19bd7f[_0x2234cd(0x100)],{'status':_0x19bd7f[_0x2234cd(0x217)],'statusText':_0x19bd7f['statusText'],'headers':_0x19bd7f[_0x2234cd(0x1cd)]});return _0x5a5bd0['headers'][_0x2234cd(0x1fa)]('X-New-URL',_0x1ac68d),_0x5a5bd0;}const 啥啥啥_写的这是啥啊=atob(_0x4b2ee7(0x1c5));function 配置信息(_0x443b7b,_0x3566d1){const _0x4760c6=_0x4b2ee7,_0x4eae62=atob(啥啥啥_写的这是啥啊),_0x28d27c=FileName;let _0x34d6ef=_0x3566d1,_0x2eddd9=0x1bb;const _0x22f7a8=_0x443b7b,_0x33f514='none',_0x4ce1ed='ws',_0x10949c=_0x3566d1,_0x2756ee=path;let _0x224061=['tls',!![]];const _0xba2a2d=_0x3566d1,_0x325cff=_0x4760c6(0x1a6);_0x3566d1[_0x4760c6(0x231)]('.workers.dev')&&(_0x34d6ef=atob(_0x4760c6(0x208)),_0x2eddd9=0x50,_0x224061=['',![]]);const _0x2b4170=_0x4eae62+_0x4760c6(0x1fc)+_0x22f7a8+'@'+_0x34d6ef+':'+_0x2eddd9+_0x4760c6(0x12e)+'p'+(atob('dGlvbj0=')+_0x33f514+_0x4760c6(0x1e5)+_0x224061[0x0]+_0x4760c6(0xd6)+_0xba2a2d+_0x4760c6(0xd5)+_0x325cff+_0x4760c6(0x214)+_0x4ce1ed+_0x4760c6(0x143)+_0x10949c+_0x4760c6(0x21d)+encodeURIComponent(_0x2756ee)+'#'+encodeURIComponent(_0x28d27c)),_0x3fa200=_0x4760c6(0x10f)+FileName+_0x4760c6(0x129)+_0x34d6ef+',\x20port:\x20'+_0x2eddd9+',\x20type:\x20'+_0x4eae62+',\x20uuid:\x20'+_0x22f7a8+_0x4760c6(0x18c)+_0x224061[0x1]+_0x4760c6(0x17f)+_0xba2a2d+',\x20tfo:\x20false,\x20skip-cert-verify:\x20true,\x20servername:\x20'+_0x10949c+_0x4760c6(0x230)+_0x325cff+',\x20network:\x20'+_0x4ce1ed+',\x20ws-opts:\x20{path:\x20\x22'+_0x2756ee+_0x4760c6(0x15e)+_0x10949c+_0x4760c6(0x1de);return[_0x2b4170,_0x3fa200];}let subParams=[_0x4b2ee7(0x19a),_0x4b2ee7(0xeb),_0x4b2ee7(0xf1),_0x4b2ee7(0x131),_0x4b2ee7(0x1be),'sb'];const cmad=decodeURIComponent(atob(_0x4b2ee7(0x13c)));async function 生成配置信息(_0x42a694,_0x2e20cd,_0xa6e095,_0x1dffaa,_0x516800,_0x5795b0,_0x5ad4cb,_0xc39cd1,_0x578f7a){const _0x1893be=_0x4b2ee7;if(_0xa6e095){const _0xdda05d=_0xa6e095['match'](/^(?:https?:\/\/)?([^\/]+)/);_0xdda05d&&(_0xa6e095=_0xdda05d[0x1]);const _0x4c062c=await 整理(_0xa6e095);if(_0x4c062c[_0x1893be(0xfd)]>0x1)_0xa6e095=_0x4c062c[0x0];}else{if(_0x578f7a['KV']){await 迁移地址列表(_0x578f7a);const _0x2445bd=await _0x578f7a['KV'][_0x1893be(0x1cc)](_0x1893be(0xff));if(_0x2445bd){const _0x198503=await 整理(_0x2445bd),_0x14311f={'接口地址':new Set(),'链接地址':new Set(),'优选地址':new Set()};for(const _0x5eb8f9 of _0x198503){if(_0x5eb8f9['startsWith'](_0x1893be(0xed)))_0x14311f[_0x1893be(0x203)][_0x1893be(0x222)](_0x5eb8f9);else _0x5eb8f9['includes'](_0x1893be(0x1fc))?_0x14311f['链接地址'][_0x1893be(0x222)](_0x5eb8f9):_0x14311f[_0x1893be(0x14e)][_0x1893be(0x222)](_0x5eb8f9);}addressesapi=[..._0x14311f[_0x1893be(0x203)]],link=[..._0x14311f[_0x1893be(0x1e7)]],addresses=[..._0x14311f[_0x1893be(0x14e)]];}}if(addresses[_0x1893be(0xfd)]+addressesapi[_0x1893be(0xfd)]+addressesnotls['length']+addressesnotlsapi[_0x1893be(0xfd)]+addressescsv[_0x1893be(0xfd)]==0x0){let _0xb1111=['103.21.244.0/24',_0x1893be(0x108),_0x1893be(0xf7),_0x1893be(0xf0),'104.16.0.0/14','104.24.0.0/15',_0x1893be(0x1a7),'172.64.0.0/14',_0x1893be(0x1a4),'190.93.240.0/21',_0x1893be(0x1f7),_0x1893be(0x108),_0x1893be(0xf7),'172.64.0.0/14','104.16.0.0/14',_0x1893be(0xfc),_0x1893be(0x1a7),'172.64.0.0/14',_0x1893be(0x1a4),_0x1893be(0xd8)];function _0x54ba4f(_0x5b3078){const _0x1fe6ac=_0x1893be,[_0x2cf77e,_0x343029]=_0x5b3078[_0x1fe6ac(0x11e)]('/'),_0x4ddfc1=_0x2cf77e[_0x1fe6ac(0x11e)]('.')['map'](Number),_0x34dcec=0x20-parseInt(_0x343029,0xa),_0x708d06=Math[_0x1fe6ac(0x159)](0x2,_0x34dcec)-0x1,_0x47283f=Math[_0x1fe6ac(0x184)](Math[_0x1fe6ac(0x205)]()*_0x708d06),_0x5e127c=_0x4ddfc1[_0x1fe6ac(0x1d2)]((_0x25410c,_0x2bc95f)=>{if(_0x2bc95f<0x2)return _0x25410c;if(_0x2bc95f===0x2)return(_0x25410c&0xff<<_0x34dcec-0x8)+(_0x47283f>>0x8&0xff);return(_0x25410c&0xff<<_0x34dcec)+(_0x47283f&0xff);});return _0x5e127c['join']('.');}addresses=addresses[_0x1893be(0x139)]('127.0.0.1:1234#CFnat');let _0x483020=0x1;if(_0x2e20cd['includes'](_0x1893be(0x10d))||_0x2e20cd[_0x1893be(0x231)](_0x1893be(0xdc))){const _0x1d6fa2=httpPorts[_0x1893be(0x139)]('80');addressesnotls=addressesnotls['concat'](_0xb1111[_0x1893be(0x1d2)](_0x168d48=>_0x54ba4f(_0x168d48)+':'+_0x1d6fa2[Math[_0x1893be(0x184)](Math[_0x1893be(0x205)]()*_0x1d6fa2[_0x1893be(0xfd)])]+'#CF随机节点'+String(_0x483020++)[_0x1893be(0x101)](0x2,'0')));}else{const _0x44e14f=httpsPorts['concat'](_0x1893be(0x17c));addresses=addresses[_0x1893be(0x139)](_0xb1111[_0x1893be(0x1d2)](_0x1eaba4=>_0x54ba4f(_0x1eaba4)+':'+_0x44e14f[Math[_0x1893be(0x184)](Math[_0x1893be(0x205)]()*_0x44e14f[_0x1893be(0xfd)])]+_0x1893be(0x14b)+String(_0x483020++)[_0x1893be(0x101)](0x2,'0')));}}}const _0x4b5661=_0x5795b0[_0x1893be(0x10a)]=='/'+动态UUID?动态UUID:_0x42a694,_0x3e37fc=_0x1dffaa[_0x1893be(0x15c)](),_0x514781=配置信息(_0x42a694,_0x2e20cd),_0x54e767=_0x514781[0x0],_0x29910a=_0x514781[0x1];let _0x132be5='';if(_0x2e20cd[_0x1893be(0x231)](_0x1893be(0x204))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x1893be(0xfd)]==0x0))try{const _0x137ee0=await fetch(proxyhostsURL);if(!_0x137ee0['ok']){console['error'](_0x1893be(0x1bf),_0x137ee0[_0x1893be(0x217)],_0x137ee0[_0x1893be(0x1f1)]);return;}const _0x38a4f5=await _0x137ee0[_0x1893be(0x1ec)](),_0xdf608f=_0x38a4f5[_0x1893be(0x11e)]('\x0a'),_0x2a37bc=_0xdf608f[_0x1893be(0x1cb)](_0x45a178=>_0x45a178[_0x1893be(0x21b)]()!=='');proxyhosts=proxyhosts[_0x1893be(0x139)](_0x2a37bc);}catch(_0x1708d6){}if(proxyhosts['length']!=0x0)_0x132be5=proxyhosts[Math['floor'](Math[_0x1893be(0x205)]()*proxyhosts[_0x1893be(0xfd)])]+'/';}if(_0x3e37fc[_0x1893be(0x231)](_0x1893be(0x166))&&!subParams[_0x1893be(0xfb)](_0x79b225=>_0x5795b0['searchParams'][_0x1893be(0x200)](_0x79b225))){const _0x239eb3=socks5s['map'](_0x300a41=>{const _0x3f82fb=_0x1893be;if(_0x300a41[_0x3f82fb(0x231)]('@'))return _0x300a41[_0x3f82fb(0x11e)]('@')[0x1];else{if(_0x300a41['includes']('//'))return _0x300a41[_0x3f82fb(0x11e)]('//')[0x1];else return _0x300a41;}});let _0x56ff71='';if(go2Socks5s[_0x1893be(0xfd)]>0x0&&enableSocks){_0x56ff71=''+decodeURIComponent('SOCKS5%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20');if(go2Socks5s[_0x1893be(0x231)](atob('YWxsIGlu'))||go2Socks5s[_0x1893be(0x231)](atob(_0x1893be(0x211))))_0x56ff71+=decodeURIComponent(_0x1893be(0x122))+_0x1893be(0x1c3);else _0x56ff71+=_0x1893be(0x176)+go2Socks5s['join'](_0x1893be(0x176))+'<br>';}let _0x2d181c=_0x1893be(0x1c3);if(_0xa6e095){if(enableSocks)_0x2d181c+='CFCDN（访问方式）:\x20Socks5<br>&nbsp;&nbsp;'+_0x239eb3[_0x1893be(0x15d)](_0x1893be(0x176))+_0x1893be(0x1c3)+_0x56ff71;else{if(proxyIP&&proxyIP!='')_0x2d181c+=_0x1893be(0x169)+proxyIPs[_0x1893be(0x15d)]('<br>&nbsp;&nbsp;')+_0x1893be(0x1c3);else{if(_0x516800=='true')_0x2d181c+=_0x1893be(0x1fe);else _0x2d181c+=_0x1893be(0x18d);}}_0x2d181c+=_0x1893be(0x10b)+_0xa6e095;}else{if(enableSocks)_0x2d181c+=_0x1893be(0x210)+_0x239eb3[_0x1893be(0x15d)](_0x1893be(0x176))+_0x1893be(0x1c3)+_0x56ff71;else{if(proxyIP&&proxyIP!='')_0x2d181c+=_0x1893be(0x169)+proxyIPs['join']('<br>&nbsp;&nbsp;')+_0x1893be(0x1c3);else _0x2d181c+=_0x1893be(0x18d);}let _0x547d51='';if(_0x578f7a['KV'])_0x547d51=_0x1893be(0x112)+_0x5795b0[_0x1893be(0x10a)]+_0x1893be(0x17a);_0x2d181c+=_0x1893be(0x110)+_0x547d51+'<br>';if(addresses[_0x1893be(0xfd)]>0x0)_0x2d181c+='ADD（TLS优选域名&IP）:\x20<br>&nbsp;&nbsp;'+addresses[_0x1893be(0x15d)]('<br>&nbsp;&nbsp;')+_0x1893be(0x1c3);if(addressesnotls[_0x1893be(0xfd)]>0x0)_0x2d181c+=_0x1893be(0x109)+addressesnotls[_0x1893be(0x15d)](_0x1893be(0x176))+_0x1893be(0x1c3);if(addressesapi['length']>0x0)_0x2d181c+=_0x1893be(0x146)+addressesapi[_0x1893be(0x15d)](_0x1893be(0x176))+_0x1893be(0x1c3);if(addressesnotlsapi[_0x1893be(0xfd)]>0x0)_0x2d181c+=_0x1893be(0x13b)+addressesnotlsapi[_0x1893be(0x15d)](_0x1893be(0x176))+_0x1893be(0x1c3);if(addressescsv[_0x1893be(0xfd)]>0x0)_0x2d181c+='ADDCSV（IPTest测速csv文件\x20限速\x20'+DLS+_0x1893be(0x1e3)+addressescsv[_0x1893be(0x15d)](_0x1893be(0x176))+_0x1893be(0x1c3);}if(动态UUID&&_0x5795b0[_0x1893be(0x10a)]!=='/'+动态UUID)_0x2d181c='';else _0x2d181c+=_0x1893be(0x1a2)+subProtocol+_0x1893be(0x1fc)+subConverter+_0x1893be(0x130)+subConfig;const _0x3cfdb5=_0x4b5661!=_0x42a694?'TOKEN:\x20'+_0x4b5661+_0x1893be(0x22c)+_0x42a694+_0x1893be(0x1e1)+userIDLow+'<br>'+userIDTime+'TIME（动态UUID有效时间）:\x20'+有效时间+'\x20天<br>UPTIME（动态UUID更新时间）:\x20'+更新时间+_0x1893be(0x154):''+userIDTime,_0x4cc0cd=_0x1893be(0x152)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x19c)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+'</a><br>\x0a\x09\x09\x09<div\x20id=\x22qrcode_0\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x09\x09\x09Base64订阅地址:<br>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://'+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x165)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x22a)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x20f)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+'?clash</a><br>\x0a\x09\x09\x09<div\x20id=\x22qrcode_2\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x09\x09\x09singbox订阅地址:<br>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://'+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x1ac)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x16f)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0xfa)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x1a1)+atob(_0x1893be(0x134))+_0x1893be(0x22f)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x14c)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x135)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x149)+_0x132be5+_0x2e20cd+'/'+_0x4b5661+_0x1893be(0x161)+FileName+_0x1893be(0x19d)+_0x3cfdb5+_0x1893be(0x227)+_0x2e20cd+_0x1893be(0x22b)+_0x42a694+'<br>\x0a\x09\x09\x09FKID:\x20'+_0x5ad4cb+_0x1893be(0x1f9)+_0x1dffaa+_0x1893be(0x12d)+_0x2d181c+_0x1893be(0x197)+_0x54e767+_0x1893be(0x17b)+_0x54e767+'</a><br>\x0a\x09\x09\x09<div\x20id=\x22qrcode_v2ray\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09################################################################<br>\x0a\x09\x09\x09clash-meta<br>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09'+_0x29910a+'<br>\x0a\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09################################################################<br>\x0a\x09\x09\x09'+cmad+_0x1893be(0x163);return _0x1893be(0x212)+_0x4cc0cd+_0x1893be(0x1c2);}else{if(typeof fetch!=_0x1893be(0xdf))return _0x1893be(0x155);let _0x33d284=[],_0x1f0a55=[],_0x22fcdd=[],_0x4612e8=[];if(_0x2e20cd[_0x1893be(0x231)](_0x1893be(0x204)))noTLS='true',_0xc39cd1=_0xc39cd1+_0x1893be(0x204),_0x22fcdd=await 整理优选列表(addressesnotlsapi),_0x4612e8=await 整理测速结果('FALSE');else{if(_0x2e20cd[_0x1893be(0x231)]('.pages.dev'))_0xc39cd1=_0xc39cd1+_0x1893be(0x14a);else _0x2e20cd[_0x1893be(0x231)]('worker')||_0x2e20cd[_0x1893be(0x231)]('notls')||noTLS==_0x1893be(0x16a)?(noTLS=_0x1893be(0x16a),_0xc39cd1=_0x1893be(0xdc)+_0xc39cd1+_0x1893be(0x11c),_0x22fcdd=await 整理优选列表(addressesnotlsapi),_0x4612e8=await 整理测速结果(_0x1893be(0x198))):_0xc39cd1=_0xc39cd1+_0x1893be(0x196);}console[_0x1893be(0x128)](_0x1893be(0x1e8)+_0xc39cd1);let _0x2ac368=subProtocol+'://'+_0xa6e095+'/sub?host='+_0xc39cd1+'&uuid='+(_0x5ad4cb+atob(_0x1893be(0x12a))+_0x516800)+_0x1893be(0x21d)+encodeURIComponent(path),_0x3cf339=!![];if(!_0xa6e095||_0xa6e095==''){if(_0x2e20cd['includes'](_0x1893be(0x1ed))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x1893be(0xfd)]==0x0))try{const _0x4e750e=await fetch(proxyhostsURL);if(!_0x4e750e['ok']){console[_0x1893be(0xe2)](_0x1893be(0x1bf),_0x4e750e[_0x1893be(0x217)],_0x4e750e[_0x1893be(0x1f1)]);return;}const _0x5b9e4b=await _0x4e750e[_0x1893be(0x1ec)](),_0x33c496=_0x5b9e4b[_0x1893be(0x11e)]('\x0a'),_0x30475f=_0x33c496[_0x1893be(0x1cb)](_0x26ea7d=>_0x26ea7d[_0x1893be(0x21b)]()!=='');proxyhosts=proxyhosts[_0x1893be(0x139)](_0x30475f);}catch(_0x33508c){console['error']('获取地址时出错:',_0x33508c);}proxyhosts=[...new Set(proxyhosts)];}_0x33d284=await 整理优选列表(addressesapi),_0x1f0a55=await 整理测速结果(_0x1893be(0x178)),_0x2ac368=_0x1893be(0xed)+_0x2e20cd+'/'+(_0x5ad4cb+_0x5795b0[_0x1893be(0x20e)]);if(_0x2e20cd[_0x1893be(0x231)](_0x1893be(0x10d))||_0x2e20cd['includes'](_0x1893be(0xdc))||noTLS==_0x1893be(0x16a)){if(_0x5795b0[_0x1893be(0x20e)])_0x2ac368+='&notls';else _0x2ac368+='?notls';}console[_0x1893be(0x128)](_0x1893be(0xd7)+_0x2ac368);}if(!_0x3e37fc['includes'](_0x1893be(0x1c4)['toLowerCase']())&&!_0x5795b0[_0x1893be(0xef)][_0x1893be(0x200)](_0x1893be(0xf1))&&!_0x5795b0[_0x1893be(0xef)][_0x1893be(0x200)](_0x1893be(0xeb))){if(_0x3e37fc[_0x1893be(0x231)](_0x1893be(0x131))&&!_0x3e37fc[_0x1893be(0x231)]('nekobox')||_0x5795b0[_0x1893be(0xef)][_0x1893be(0x200)](_0x1893be(0x131))&&!_0x3e37fc[_0x1893be(0x231)](_0x1893be(0x174)))_0x2ac368=subProtocol+'://'+subConverter+_0x1893be(0x1c8)+encodeURIComponent(_0x2ac368)+_0x1893be(0x219)+encodeURIComponent(subConfig)+_0x1893be(0x226)+subEmoji+_0x1893be(0xf5),_0x3cf339=![];else{if(_0x3e37fc[_0x1893be(0x231)]('sing-box')||_0x3e37fc[_0x1893be(0x231)](_0x1893be(0x1be))||(_0x5795b0['searchParams'][_0x1893be(0x200)](_0x1893be(0x1be))||_0x5795b0[_0x1893be(0xef)][_0x1893be(0x200)]('sb'))&&!_0x3e37fc[_0x1893be(0x231)](_0x1893be(0x174)))_0x2ac368=subProtocol+_0x1893be(0x1fc)+subConverter+_0x1893be(0x193)+encodeURIComponent(_0x2ac368)+_0x1893be(0x219)+encodeURIComponent(subConfig)+_0x1893be(0x226)+subEmoji+'&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true',_0x3cf339=![];else(_0x3e37fc[_0x1893be(0x231)]('loon')||_0x5795b0[_0x1893be(0xef)][_0x1893be(0x200)](_0x1893be(0x1d8))&&!_0x3e37fc[_0x1893be(0x231)]('subconverter'))&&(_0x2ac368=subProtocol+_0x1893be(0x1fc)+subConverter+_0x1893be(0x140)+encodeURIComponent(_0x2ac368)+'&insert=false&config='+encodeURIComponent(subConfig)+'&emoji='+subEmoji+_0x1893be(0xf5),_0x3cf339=![]);}}try{let _0x41bff1;if((!_0xa6e095||_0xa6e095=='')&&_0x3cf339==!![])_0x41bff1=await 生成本地订阅(_0xc39cd1,_0x5ad4cb,noTLS,_0x33d284,_0x1f0a55,_0x22fcdd,_0x4612e8);else{const _0x4cf7b2=await fetch(_0x2ac368,{'headers':{'User-Agent':_0x1dffaa+atob(_0x1893be(0x113))}});_0x41bff1=await _0x4cf7b2[_0x1893be(0x1ec)]();}if(_0x5795b0[_0x1893be(0x10a)]=='/'+_0x5ad4cb)return _0x41bff1;return 恢复伪装信息(_0x41bff1,_0x42a694,_0x2e20cd,_0x5ad4cb,_0xc39cd1,_0x3cf339);}catch(_0x7446ef){return console[_0x1893be(0xe2)](_0x1893be(0x218),_0x7446ef),_0x1893be(0x172)+_0x7446ef[_0x1893be(0x144)];}}}async function 整理优选列表(_0xabd7c4){const _0x720e72=_0x4b2ee7;if(!_0xabd7c4||_0xabd7c4[_0x720e72(0xfd)]===0x0)return[];let _0xebc995='';const _0x1b1859=new AbortController(),_0x78770e=setTimeout(()=>{const _0x3bef83=_0x720e72;_0x1b1859[_0x3bef83(0x1f5)]();},0x7d0);try{const _0x811bf9=await Promise[_0x720e72(0x102)](_0xabd7c4['map'](_0x853444=>fetch(_0x853444,{'method':_0x720e72(0x1cc),'headers':{'Accept':_0x720e72(0x1af),'User-Agent':atob('Q0YtV29ya2Vycy1lZGdldHVubmVsL2NtbGl1')},'signal':_0x1b1859[_0x720e72(0x12c)]})['then'](_0x23641a=>_0x23641a['ok']?_0x23641a[_0x720e72(0x1ec)]():Promise[_0x720e72(0x12f)]())));for(const [_0x4bb851,_0x3b1c71]of _0x811bf9['entries']()){if(_0x3b1c71[_0x720e72(0x217)]===_0x720e72(0x123)){const _0x17b7e7=await _0x3b1c71['value'],_0x4e1471=_0x17b7e7['split'](/\r?\n/);let _0x661234='',_0x58e5fb=_0x720e72(0x17c);if(_0x4e1471[0x0]['split'](',')[_0x720e72(0xfd)]>0x3){const _0x37216d=_0xabd7c4[_0x4bb851][_0x720e72(0x189)](/id=([^&]*)/);if(_0x37216d)_0x661234=_0x37216d[0x1];const _0x5b4087=_0xabd7c4[_0x4bb851][_0x720e72(0x189)](/port=([^&]*)/);if(_0x5b4087)_0x58e5fb=_0x5b4087[0x1];for(let _0x3c2013=0x1;_0x3c2013<_0x4e1471['length'];_0x3c2013++){const _0x26550f=_0x4e1471[_0x3c2013][_0x720e72(0x11e)](',')[0x0];if(_0x26550f){_0xebc995+=_0x26550f+':'+_0x58e5fb+(_0x661234?'#'+_0x661234:'')+'\x0a';if(_0xabd7c4[_0x4bb851]['includes']('proxyip=true'))proxyIPPool[_0x720e72(0x1e0)](_0x26550f+':'+_0x58e5fb);}}}else _0xabd7c4[_0x4bb851][_0x720e72(0x231)]('proxyip=true')&&(proxyIPPool=proxyIPPool[_0x720e72(0x139)]((await 整理(_0x17b7e7))[_0x720e72(0x1d2)](_0x15972a=>{const _0x88c3db=_0x720e72,_0x1294b6=_0x15972a[_0x88c3db(0x11e)]('#')[0x0]||_0x15972a;if(_0x1294b6[_0x88c3db(0x231)](':')){const _0x1d4818=_0x1294b6[_0x88c3db(0x11e)](':')[0x1];if(!httpsPorts[_0x88c3db(0x231)](_0x1d4818))return _0x1294b6;}else return _0x1294b6+':443';return null;})[_0x720e72(0x1cb)](Boolean))),_0xebc995+=_0x17b7e7+'\x0a';}}}catch(_0x4de29f){console[_0x720e72(0xe2)](_0x4de29f);}finally{clearTimeout(_0x78770e);}const _0x410825=await 整理(_0xebc995);return _0x410825;}async function 整理测速结果(_0x2d7de9){const _0x59f72c=_0x4b2ee7;if(!addressescsv||addressescsv['length']===0x0)return[];let _0x47e3d5=[];for(const _0x52e628 of addressescsv){try{const _0x3a2db1=await fetch(_0x52e628);if(!_0x3a2db1['ok']){console['error'](_0x59f72c(0x18e),_0x3a2db1[_0x59f72c(0x217)],_0x3a2db1[_0x59f72c(0x1f1)]);continue;}const _0x4b0529=await _0x3a2db1[_0x59f72c(0x1ec)]();let _0x16d541;_0x4b0529['includes']('\x0d\x0a')?_0x16d541=_0x4b0529[_0x59f72c(0x11e)]('\x0d\x0a'):_0x16d541=_0x4b0529[_0x59f72c(0x11e)]('\x0a');const _0x2924ba=_0x16d541[0x0][_0x59f72c(0x11e)](','),_0x2627fa=_0x2924ba[_0x59f72c(0x1cf)](_0x59f72c(0x1da)),_0x163ec3=0x0,_0x322465=0x1,_0x4e420c=_0x2627fa+remarkIndex;if(_0x2627fa===-0x1){console[_0x59f72c(0xe2)]('CSV文件缺少必需的字段');continue;}for(let _0x4b91bc=0x1;_0x4b91bc<_0x16d541['length'];_0x4b91bc++){const _0x2fe33c=_0x16d541[_0x4b91bc][_0x59f72c(0x11e)](','),_0x3be643=_0x2fe33c[_0x59f72c(0xfd)]-0x1;if(_0x2fe33c[_0x2627fa][_0x59f72c(0x136)]()===_0x2d7de9&&parseFloat(_0x2fe33c[_0x3be643])>DLS){const _0x1566cd=_0x2fe33c[_0x163ec3],_0x1aded9=_0x2fe33c[_0x322465],_0x439ac1=_0x2fe33c[_0x4e420c],_0x2bf3ef=_0x1566cd+':'+_0x1aded9+'#'+_0x439ac1;_0x47e3d5['push'](_0x2bf3ef),_0x52e628[_0x59f72c(0x231)](_0x59f72c(0x1b2))&&_0x2fe33c[_0x2627fa]['toUpperCase']()=='true'&&!httpsPorts['includes'](_0x1aded9)&&proxyIPPool[_0x59f72c(0x1e0)](_0x1566cd+':'+_0x1aded9);}}}catch(_0x18d105){console[_0x59f72c(0xe2)]('获取CSV地址时出错:',_0x18d105);continue;}}return _0x47e3d5;}function 生成本地订阅(_0x4f6403,_0x4a245a,_0x45a15c,_0x3a667b,_0xcf5907,_0x2436ea,_0x41be79){const _0x5360af=_0x4b2ee7,_0x13e4d0=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;addresses=addresses['concat'](_0x3a667b),addresses=addresses[_0x5360af(0x139)](_0xcf5907);let _0x3690e2;if(_0x45a15c=='true'){addressesnotls=addressesnotls[_0x5360af(0x139)](_0x2436ea),addressesnotls=addressesnotls[_0x5360af(0x139)](_0x41be79);const _0x2b6da7=[...new Set(addressesnotls)];_0x3690e2=_0x2b6da7[_0x5360af(0x1d2)](_0xf57e60=>{const _0x442a94=_0x5360af;let _0x449725='-1',_0x229726=_0xf57e60;const _0x22d0a6=_0x229726[_0x442a94(0x189)](_0x13e4d0);if(!_0x22d0a6){if(_0xf57e60[_0x442a94(0x231)](':')&&_0xf57e60[_0x442a94(0x231)]('#')){const _0x36af22=_0xf57e60[_0x442a94(0x11e)](':');_0xf57e60=_0x36af22[0x0];const _0xa0323c=_0x36af22[0x1][_0x442a94(0x11e)]('#');_0x449725=_0xa0323c[0x0],_0x229726=_0xa0323c[0x1];}else{if(_0xf57e60[_0x442a94(0x231)](':')){const _0x5275fc=_0xf57e60[_0x442a94(0x11e)](':');_0xf57e60=_0x5275fc[0x0],_0x449725=_0x5275fc[0x1];}else{if(_0xf57e60[_0x442a94(0x231)]('#')){const _0x27d7aa=_0xf57e60[_0x442a94(0x11e)]('#');_0xf57e60=_0x27d7aa[0x0],_0x229726=_0x27d7aa[0x1];}}}_0x229726['includes'](':')&&(_0x229726=_0x229726[_0x442a94(0x11e)](':')[0x0]);}else _0xf57e60=_0x22d0a6[0x1],_0x449725=_0x22d0a6[0x2]||_0x449725,_0x229726=_0x22d0a6[0x3]||_0xf57e60;if(!isValidIPv4(_0xf57e60)&&_0x449725=='-1')for(let _0x4c71dd of httpPorts){if(_0xf57e60[_0x442a94(0x231)](_0x4c71dd)){_0x449725=_0x4c71dd;break;}}if(_0x449725=='-1')_0x449725='80';let _0x234bde=_0x4f6403,_0x3ebcf6=path,_0x31ba99='';const _0x17b8cd=atob(啥啥啥_写的这是啥啊),_0x14ea25=_0x17b8cd+_0x442a94(0x1fc)+_0x4a245a+'@'+_0xf57e60+':'+(_0x449725+atob(_0x442a94(0x18b))+_0x234bde)+'&path='+encodeURIComponent(_0x3ebcf6)+'#'+encodeURIComponent(_0x229726+_0x31ba99);return _0x14ea25;})['join']('\x0a');}const _0xc47a17=[...new Set(addresses)],_0x3cfe4d=_0xc47a17['map'](_0x4e6d0e=>{const _0x243c8e=_0x5360af;let _0x516593='-1',_0x1f6b02=_0x4e6d0e;const _0x105562=_0x1f6b02[_0x243c8e(0x189)](_0x13e4d0);if(!_0x105562){if(_0x4e6d0e[_0x243c8e(0x231)](':')&&_0x4e6d0e[_0x243c8e(0x231)]('#')){const _0x1ee064=_0x4e6d0e['split'](':');_0x4e6d0e=_0x1ee064[0x0];const _0x46a5d1=_0x1ee064[0x1][_0x243c8e(0x11e)]('#');_0x516593=_0x46a5d1[0x0],_0x1f6b02=_0x46a5d1[0x1];}else{if(_0x4e6d0e[_0x243c8e(0x231)](':')){const _0x50d0f5=_0x4e6d0e[_0x243c8e(0x11e)](':');_0x4e6d0e=_0x50d0f5[0x0],_0x516593=_0x50d0f5[0x1];}else{if(_0x4e6d0e[_0x243c8e(0x231)]('#')){const _0x289bf7=_0x4e6d0e[_0x243c8e(0x11e)]('#');_0x4e6d0e=_0x289bf7[0x0],_0x1f6b02=_0x289bf7[0x1];}}}_0x1f6b02[_0x243c8e(0x231)](':')&&(_0x1f6b02=_0x1f6b02[_0x243c8e(0x11e)](':')[0x0]);}else _0x4e6d0e=_0x105562[0x1],_0x516593=_0x105562[0x2]||_0x516593,_0x1f6b02=_0x105562[0x3]||_0x4e6d0e;if(!isValidIPv4(_0x4e6d0e)&&_0x516593=='-1')for(let _0x476daa of httpsPorts){if(_0x4e6d0e[_0x243c8e(0x231)](_0x476daa)){_0x516593=_0x476daa;break;}}if(_0x516593=='-1')_0x516593=_0x243c8e(0x17c);let _0xf6819c=_0x4f6403,_0x28f25b=path,_0x26e4d9='';const _0x58c5c7=proxyIPPool[_0x243c8e(0x10e)](_0x567116=>_0x567116[_0x243c8e(0x231)](_0x4e6d0e));if(_0x58c5c7)_0x28f25b+=_0x243c8e(0x1bd)+_0x58c5c7;proxyhosts[_0x243c8e(0xfd)]>0x0&&_0xf6819c['includes']('.workers.dev')&&(_0x28f25b='/'+_0xf6819c+_0x28f25b,_0xf6819c=proxyhosts[Math[_0x243c8e(0x184)](Math[_0x243c8e(0x205)]()*proxyhosts[_0x243c8e(0xfd)])],_0x26e4d9=_0x243c8e(0xd9));const _0x18965a=atob(啥啥啥_写的这是啥啊),_0x3c93b3=_0x18965a+_0x243c8e(0x1fc)+_0x4a245a+'@'+_0x4e6d0e+':'+(_0x516593+atob('P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT10bHMmc25pPQ==')+_0xf6819c)+'&fp=random&type=ws&host='+_0xf6819c+_0x243c8e(0x21d)+encodeURIComponent(_0x28f25b)+'#'+encodeURIComponent(_0x1f6b02+_0x26e4d9);return _0x3c93b3;})[_0x5360af(0x15d)]('\x0a');let _0x3d91b=_0x3cfe4d;if(_0x45a15c==_0x5360af(0x16a))_0x3d91b+='\x0a'+_0x3690e2;if(link[_0x5360af(0xfd)]>0x0)_0x3d91b+='\x0a'+link['join']('\x0a');return btoa(_0x3d91b);}async function 整理(_0x227dd7){const _0xc7fe78=_0x4b2ee7;var _0x44aa3b=_0x227dd7[_0xc7fe78(0x1ea)](/[	|"'\r\n]+/g,',')[_0xc7fe78(0x1ea)](/,+/g,',');if(_0x44aa3b[_0xc7fe78(0x21f)](0x0)==',')_0x44aa3b=_0x44aa3b[_0xc7fe78(0x194)](0x1);if(_0x44aa3b[_0xc7fe78(0x21f)](_0x44aa3b[_0xc7fe78(0xfd)]-0x1)==',')_0x44aa3b=_0x44aa3b['slice'](0x0,_0x44aa3b['length']-0x1);const _0x8665ef=_0x44aa3b[_0xc7fe78(0x11e)](',');return _0x8665ef;}async function sendMessage(_0x211675,_0x584cdd,_0x270003=''){const _0x320696=_0x4b2ee7;if(!BotToken||!ChatID)return;try{let _0x503495='';const _0x5bc793=await fetch('http://ip-api.com/json/'+_0x584cdd+_0x320696(0x111));if(_0x5bc793['ok']){const _0xaa7a7f=await _0x5bc793['json']();_0x503495=_0x211675+'\x0aIP:\x20'+_0x584cdd+_0x320696(0x1eb)+_0xaa7a7f['country']+_0x320696(0x1b0)+_0xaa7a7f['city']+_0x320696(0x15f)+_0xaa7a7f[_0x320696(0xf3)]+_0x320696(0x20b)+_0xaa7a7f['as']+'\x0a'+_0x270003;}else _0x503495=_0x211675+'\x0aIP:\x20'+_0x584cdd+_0x320696(0x153)+_0x270003;const _0x538222=_0x320696(0xe7)+BotToken+_0x320696(0x232)+ChatID+_0x320696(0x1c7)+encodeURIComponent(_0x503495);return fetch(_0x538222,{'method':'GET','headers':{'Accept':'text/html,application/xhtml+xml,application/xml;','Accept-Encoding':'gzip,\x20deflate,\x20br','User-Agent':_0x320696(0x182)}});}catch(_0x30a89d){console[_0x320696(0xe2)]('Error\x20sending\x20message:',_0x30a89d);}}function isValidIPv4(_0x42f12b){const _0x423b48=_0x4b2ee7,_0xcd90c1=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0xcd90c1[_0x423b48(0xe9)](_0x42f12b);}function 生成动态UUID(_0x74496e){const _0x46f8ac=_0x4b2ee7,_0x165d47=0x8,_0x5d4617=new Date(0x7d7,0x6,0x7,更新时间,0x0,0x0),_0x3e18d9=0x3e8*0x3c*0x3c*0x18*有效时间;function _0x409cc7(){const _0x1b7720=_0x3583,_0x515f22=new Date(),_0x41a122=new Date(_0x515f22[_0x1b7720(0x199)]()+_0x165d47*0x3c*0x3c*0x3e8),_0x482e31=Number(_0x41a122)-Number(_0x5d4617);return Math[_0x1b7720(0x125)](_0x482e31/_0x3e18d9);}function _0x37bca2(_0x220fd5){const _0x32de01=_0x3583,_0x184db9=new TextEncoder()['encode'](_0x220fd5);return crypto[_0x32de01(0x1c6)]['digest'](_0x32de01(0x1ad),_0x184db9)['then'](_0x4b8070=>{const _0x5b39e1=_0x32de01,_0x2291ed=Array[_0x5b39e1(0x21c)](new Uint8Array(_0x4b8070)),_0x584744=_0x2291ed[_0x5b39e1(0x1d2)](_0x3344e5=>_0x3344e5[_0x5b39e1(0x20c)](0x10)[_0x5b39e1(0x101)](0x2,'0'))[_0x5b39e1(0x15d)]('');return _0x584744[_0x5b39e1(0x13a)](0x0,0x8)+'-'+_0x584744[_0x5b39e1(0x13a)](0x8,0x4)+'-4'+_0x584744[_0x5b39e1(0x13a)](0xd,0x3)+'-'+(parseInt(_0x584744[_0x5b39e1(0x13a)](0x10,0x2),0x10)&0x3f|0x80)[_0x5b39e1(0x20c)](0x10)+_0x584744[_0x5b39e1(0x13a)](0x12,0x2)+'-'+_0x584744['substr'](0x14,0xc);});}const _0x46a8e2=_0x409cc7(),_0x44e26a=new Date(_0x5d4617[_0x46f8ac(0x199)]()+_0x46a8e2*_0x3e18d9),_0x51e208=_0x37bca2(_0x74496e+_0x46a8e2),_0x6866d8=_0x37bca2(_0x74496e+(_0x46a8e2-0x1)),_0x448526=new Date(_0x44e26a[_0x46f8ac(0x199)]()-_0x165d47*0x3c*0x3c*0x3e8),_0x41e2b7=_0x46f8ac(0x121)+_0x448526[_0x46f8ac(0x1dd)]()[_0x46f8ac(0x194)](0x0,0x13)['replace']('T','\x20')+'\x20(UTC+8):\x20'+_0x44e26a[_0x46f8ac(0x1dd)]()['slice'](0x0,0x13)[_0x46f8ac(0x1ea)]('T','\x20')+'\x0a';return Promise['all']([_0x51e208,_0x6866d8,_0x41e2b7]);}async function 迁移地址列表(_0x48fbf5,_0x4a4570=_0x4b2ee7(0xff)){const _0x2813d2=_0x4b2ee7,_0x56b6a1=await _0x48fbf5['KV'][_0x2813d2(0x1cc)]('/'+_0x4a4570),_0x352288=await _0x48fbf5['KV'][_0x2813d2(0x1cc)](_0x4a4570);if(_0x56b6a1&&!_0x352288)return await _0x48fbf5['KV'][_0x2813d2(0x1ae)](_0x4a4570,_0x56b6a1),await _0x48fbf5['KV'][_0x2813d2(0x16b)]('/'+_0x4a4570),!![];return![];}async function KV(_0x4fe1ff,_0x108e4d,_0x58856b=_0x4b2ee7(0xff)){const _0x59074f=_0x4b2ee7;try{if(_0x4fe1ff['method']==='POST'){if(!_0x108e4d['KV'])return new Response(_0x59074f(0x181),{'status':0x190});try{const _0x33a148=await _0x4fe1ff[_0x59074f(0x1ec)]();return await _0x108e4d['KV'][_0x59074f(0x1ae)](_0x58856b,_0x33a148),new Response(_0x59074f(0xfe));}catch(_0x383aa8){return console[_0x59074f(0xe2)](_0x59074f(0x1f6),_0x383aa8),new Response(_0x59074f(0x1b8)+_0x383aa8['message'],{'status':0x1f4});}}let _0x362cb6='',_0xcf2b3f=!!_0x108e4d['KV'];if(_0xcf2b3f)try{_0x362cb6=await _0x108e4d['KV'][_0x59074f(0x1cc)](_0x58856b)||'';}catch(_0x43d1ff){console[_0x59074f(0xe2)](_0x59074f(0x1fb),_0x43d1ff),_0x362cb6=_0x59074f(0x202)+_0x43d1ff[_0x59074f(0x144)];}const _0x5137c2='\x0a\x09\x09\x09<!DOCTYPE\x20html>\x0a\x09\x09\x09<html>\x0a\x09\x09\x09<head>\x0a\x09\x09\x09\x09<title>优选订阅列表</title>\x0a\x09\x09\x09\x09<meta\x20charset=\x22utf-8\x22>\x0a\x09\x09\x09\x09<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1\x22>\x0a\x09\x09\x09\x09<style>\x0a\x09\x09\x09\x09\x09body\x20{\x0a\x09\x09\x09\x09\x09\x09margin:\x200;\x0a\x09\x09\x09\x09\x09\x09padding:\x2015px;\x20/*\x20调整padding\x20*/\x0a\x09\x09\x09\x09\x09\x09box-sizing:\x20border-box;\x0a\x09\x09\x09\x09\x09\x09font-size:\x2013px;\x20/*\x20设置全局字体大小\x20*/\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.editor-container\x20{\x0a\x09\x09\x09\x09\x09\x09width:\x20100%;\x0a\x09\x09\x09\x09\x09\x09max-width:\x20100%;\x0a\x09\x09\x09\x09\x09\x09margin:\x200\x20auto;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.editor\x20{\x0a\x09\x09\x09\x09\x09\x09width:\x20100%;\x0a\x09\x09\x09\x09\x09\x09height:\x20520px;\x20/*\x20调整高度\x20*/\x0a\x09\x09\x09\x09\x09\x09margin:\x2015px\x200;\x20/*\x20调整margin\x20*/\x0a\x09\x09\x09\x09\x09\x09padding:\x2010px;\x20/*\x20调整padding\x20*/\x0a\x09\x09\x09\x09\x09\x09box-sizing:\x20border-box;\x0a\x09\x09\x09\x09\x09\x09border:\x201px\x20solid\x20#ccc;\x0a\x09\x09\x09\x09\x09\x09border-radius:\x204px;\x0a\x09\x09\x09\x09\x09\x09font-size:\x2013px;\x0a\x09\x09\x09\x09\x09\x09line-height:\x201.5;\x0a\x09\x09\x09\x09\x09\x09overflow-y:\x20auto;\x0a\x09\x09\x09\x09\x09\x09resize:\x20none;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.save-container\x20{\x0a\x09\x09\x09\x09\x09\x09margin-top:\x208px;\x20/*\x20调整margin\x20*/\x0a\x09\x09\x09\x09\x09\x09display:\x20flex;\x0a\x09\x09\x09\x09\x09\x09align-items:\x20center;\x0a\x09\x09\x09\x09\x09\x09gap:\x2010px;\x20/*\x20调整gap\x20*/\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.save-btn,\x20.back-btn\x20{\x0a\x09\x09\x09\x09\x09\x09padding:\x206px\x2015px;\x20/*\x20调整padding\x20*/\x0a\x09\x09\x09\x09\x09\x09color:\x20white;\x0a\x09\x09\x09\x09\x09\x09border:\x20none;\x0a\x09\x09\x09\x09\x09\x09border-radius:\x204px;\x0a\x09\x09\x09\x09\x09\x09cursor:\x20pointer;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.save-btn\x20{\x0a\x09\x09\x09\x09\x09\x09background:\x20#4CAF50;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.save-btn:hover\x20{\x0a\x09\x09\x09\x09\x09\x09background:\x20#45a049;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.back-btn\x20{\x0a\x09\x09\x09\x09\x09\x09background:\x20#666;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.back-btn:hover\x20{\x0a\x09\x09\x09\x09\x09\x09background:\x20#555;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.save-status\x20{\x0a\x09\x09\x09\x09\x09\x09color:\x20#666;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.notice-content\x20{\x0a\x09\x09\x09\x09\x09\x09display:\x20none;\x0a\x09\x09\x09\x09\x09\x09margin-top:\x2010px;\x0a\x09\x09\x09\x09\x09\x09font-size:\x2013px;\x0a\x09\x09\x09\x09\x09\x09color:\x20#333;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09</style>\x0a\x09\x09\x09</head>\x0a\x09\x09\x09<body>\x0a\x09\x09\x09\x09################################################################<br>\x0a\x09\x09\x09\x09'+FileName+'\x20优选订阅列表:<br>\x0a\x09\x09\x09\x09---------------------------------------------------------------<br>\x0a\x09\x09\x09\x09&nbsp;&nbsp;<strong><a\x20href=\x22javascript:void(0);\x22\x20id=\x22noticeToggle\x22\x20onclick=\x22toggleNotice()\x22>注意事项∨</a></strong><br>\x0a\x09\x09\x09\x09<div\x20id=\x22noticeContent\x22\x20class=\x22notice-content\x22>\x0a\x09\x09\x09\x09\x09'+decodeURIComponent(atob('JTA5JTA5JTA5JTA5JTA5JTNDc3Ryb25nJTNFMS4lM0MlMkZzdHJvbmclM0UlMjBBRERBUEklMjAlRTUlQTYlODIlRTYlOUUlOUMlRTYlOTglQUYlRTUlOEYlOEQlRTQlQkIlQTNJUCVFRiVCQyU4QyVFNSU4RiVBRiVFNCVCRCU5QyVFNCVCOCVCQVBST1hZSVAlRTclOUElODQlRTglQUYlOUQlRUYlQkMlOEMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwcm94eWlwJTNEdHJ1ZSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGYWRkcmVzc2VzYXBpLnR4dCUzQ3N0cm9uZyUzRSUzRnByb3h5aXAlM0R0cnVlJTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklM0NzdHJvbmclM0UyLiUzQyUyRnN0cm9uZyUzRSUyMEFEREFQSSUyMCVFNSVBNiU4MiVFNiU5RSU5QyVFNiU5OCVBRiUyMCUzQ2ElMjBocmVmJTNEJTI3aHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGWElVMiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QlMjclM0VDbG91ZGZsYXJlU3BlZWRUZXN0JTNDJTJGYSUzRSUyMCVFNyU5QSU4NCUyMGNzdiUyMCVFNyVCQiU5MyVFNiU5RSU5QyVFNiU5NiU4NyVFNCVCQiVCNiVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NiciUzRSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCLSUyMCVFNSVBNiU4MiVFOSU5QyU4MCVFNiU4QyU4NyVFNSVBRSU5QTIwNTMlRTclQUIlQUYlRTUlOEYlQTMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwb3J0JTNEMjA1MyUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0Zwb3J0JTNEMjA1MyUzQyUyRnN0cm9uZyUzRSUzQ2JyJTNFJTNDYnIlM0UKJTA5JTA5JTA5JTA5JTA5JTI2bmJzcCUzQiUyNm5ic3AlM0ItJTIwJUU1JUE2JTgyJUU5JTlDJTgwJUU2JThDJTg3JUU1JUFFJTlBJUU4JThBJTgyJUU3JTgyJUI5JUU1JUE0JTg3JUU2JUIzJUE4JUU1JThGJUFGJUU1JUIwJTg2JTIyJTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0ZpZCUzRENGJUU0JUJDJTk4JUU5JTgwJTg5JTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQi0lMjAlRTUlQTYlODIlRTklOUMlODAlRTYlOEMlODclRTUlQUUlOUElRTUlQTQlOUElRTQlQjglQUElRTUlOEYlODIlRTYlOTUlQjAlRTUlODglOTklRTklOUMlODAlRTglQTYlODElRTQlQkQlQkYlRTclOTQlQTglMjclMjYlMjclRTUlODElOUElRTklOTclQjQlRTklOUElOTQlRUYlQkMlOEMlRTQlQkUlOEIlRTUlQTYlODIlRUYlQkMlOUElM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGbWFpbiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QuY3N2JTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUzQ3N0cm9uZyUzRSUyNiUzQyUyRnN0cm9uZyUzRXBvcnQlM0QyMDUzJTNDYnIlM0U='))+_0x59074f(0x10c)+(_0xcf2b3f?_0x59074f(0x104)+decodeURIComponent(atob('QUREJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCnZpc2EuY24lMjMlRTQlQkMlOTglRTklODAlODklRTUlOUYlOUYlRTUlOTAlOEQKMTI3LjAuMC4xJTNBMTIzNCUyM0NGbmF0CiU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MyUyM0lQdjYKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QQolRTYlQUYlOEYlRTglQTElOEMlRTQlQjglODAlRTQlQjglQUElRTUlOUMlQjAlRTUlOUQlODAlRUYlQkMlOEMlRTYlQTAlQkMlRTUlQkMlOEYlRTQlQjglQkElMjAlRTUlOUMlQjAlRTUlOUQlODAlM0ElRTclQUIlQUYlRTUlOEYlQTMlMjMlRTUlQTQlODclRTYlQjMlQTgKSVB2NiVFNSU5QyVCMCVFNSU5RCU4MCVFOSU5QyU4MCVFOCVBNiU4MSVFNyU5NCVBOCVFNCVCOCVBRCVFNiU4QiVBQyVFNSU4RiVCNyVFNiU4QiVBQyVFOCVCNSVCNyVFNiU5RCVBNSVFRiVCQyU4QyVFNSVBNiU4MiVFRiVCQyU5QSU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MwolRTclQUIlQUYlRTUlOEYlQTMlRTQlQjglOEQlRTUlODYlOTklRUYlQkMlOEMlRTklQkIlOTglRTglQUUlQTQlRTQlQjglQkElMjA0NDMlMjAlRTclQUIlQUYlRTUlOEYlQTMlRUYlQkMlOEMlRTUlQTYlODIlRUYlQkMlOUF2aXNhLmNuJTIzJUU0JUJDJTk4JUU5JTgwJTg5JUU1JTlGJTlGJUU1JTkwJThECgoKQUREQVBJJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGcmVmcyUyRmhlYWRzJTJGbWFpbiUyRmFkZHJlc3Nlc2FwaS50eHQKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QUFEREFQSSVFNyU5QiVCNCVFNiU4RSVBNSVFNiVCNyVCQiVFNSU4QSVBMCVFNyU5QiVCNCVFOSU5MyVCRSVFNSU4RCVCMyVFNSU4RiVBRg=='))+_0x59074f(0x20d)+_0x362cb6+_0x59074f(0x114)+cmad+_0x59074f(0x16c):_0x59074f(0x185))+'\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x0a\x09\x09\x09\x09<script>\x0a\x09\x09\x09\x09if\x20(document.querySelector(\x27.editor\x27))\x20{\x0a\x09\x09\x09\x09\x09let\x20timer;\x0a\x09\x09\x09\x09\x09const\x20textarea\x20=\x20document.getElementById(\x27content\x27);\x0a\x09\x09\x09\x09\x09const\x20originalContent\x20=\x20textarea.value;\x0a\x09\x09\x0a\x09\x09\x09\x09\x09function\x20goBack()\x20{\x0a\x09\x09\x09\x09\x09\x09const\x20currentUrl\x20=\x20window.location.href;\x0a\x09\x09\x09\x09\x09\x09const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x09\x09\x09\x09\x09\x09window.location.href\x20=\x20parentUrl;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x0a\x09\x09\x09\x09\x09function\x20replaceFullwidthColon()\x20{\x0a\x09\x09\x09\x09\x09\x09const\x20text\x20=\x20textarea.value;\x0a\x09\x09\x09\x09\x09\x09textarea.value\x20=\x20text.replace(/：/g,\x20\x27:\x27);\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x0a\x09\x09\x09\x09\x09function\x20saveContent(button)\x20{\x0a\x09\x09\x09\x09\x09\x09try\x20{\x0a\x09\x09\x09\x09\x09\x09\x09const\x20updateButtonText\x20=\x20(step)\x20=>\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09button.textContent\x20=\x20`保存中:\x20${step}`;\x0a\x09\x09\x09\x09\x09\x09\x09};\x0a\x09\x09\x09\x09\x09\x09\x09//\x20检测是否为iOS设备\x0a\x09\x09\x09\x09\x09\x09\x09const\x20isIOS\x20=\x20/iPad|iPhone|iPod/.test(navigator.userAgent);\x0a\x09\x09\x09\x09\x09\x09\x09\x0a\x09\x09\x09\x09\x09\x09\x09//\x20仅在非iOS设备上执行replaceFullwidthColon\x0a\x09\x09\x09\x09\x09\x09\x09if\x20(!isIOS)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09replaceFullwidthColon();\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27开始保存\x27);\x0a\x09\x09\x09\x09\x09\x09\x09button.disabled\x20=\x20true;\x0a\x09\x09\x09\x09\x09\x09\x09//\x20获取textarea内容和原始内容\x0a\x09\x09\x09\x09\x09\x09\x09const\x20textarea\x20=\x20document.getElementById(\x27content\x27);\x0a\x09\x09\x09\x09\x09\x09\x09if\x20(!textarea)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09throw\x20new\x20Error(\x27找不到文本编辑区域\x27);\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27获取内容\x27);\x0a\x09\x09\x09\x09\x09\x09\x09let\x20newContent;\x0a\x09\x09\x09\x09\x09\x09\x09let\x20originalContent;\x0a\x09\x09\x09\x09\x09\x09\x09try\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09newContent\x20=\x20textarea.value\x20||\x20\x27\x27;\x0a\x09\x09\x09\x09\x09\x09\x09\x09originalContent\x20=\x20textarea.defaultValue\x20||\x20\x27\x27;\x0a\x09\x09\x09\x09\x09\x09\x09}\x20catch\x20(e)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09console.error(\x27获取内容错误:\x27,\x20e);\x0a\x09\x09\x09\x09\x09\x09\x09\x09throw\x20new\x20Error(\x27无法获取编辑内容\x27);\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27准备状态更新函数\x27);\x0a\x09\x09\x09\x09\x09\x09\x09const\x20updateStatus\x20=\x20(message,\x20isError\x20=\x20false)\x20=>\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09const\x20statusElem\x20=\x20document.getElementById(\x27saveStatus\x27);\x0a\x09\x09\x09\x09\x09\x09\x09\x09if\x20(statusElem)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09statusElem.textContent\x20=\x20message;\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09statusElem.style.color\x20=\x20isError\x20?\x20\x27red\x27\x20:\x20\x27#666\x27;\x0a\x09\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09\x09};\x0a\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27准备按钮重置函数\x27);\x0a\x09\x09\x09\x09\x09\x09\x09const\x20resetButton\x20=\x20()\x20=>\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09button.textContent\x20=\x20\x27保存\x27;\x0a\x09\x09\x09\x09\x09\x09\x09\x09button.disabled\x20=\x20false;\x0a\x09\x09\x09\x09\x09\x09\x09};\x0a\x09\x09\x09\x09\x09\x09\x09if\x20(newContent\x20!==\x20originalContent)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27发送保存请求\x27);\x0a\x09\x09\x09\x09\x09\x09\x09\x09fetch(window.location.href,\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09method:\x20\x27POST\x27,\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09body:\x20newContent,\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09headers:\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x27Content-Type\x27:\x20\x27text/plain;charset=UTF-8\x27\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09},\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09cache:\x20\x27no-cache\x27\x0a\x09\x09\x09\x09\x09\x09\x09\x09})\x0a\x09\x09\x09\x09\x09\x09\x09\x09.then(response\x20=>\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27检查响应状态\x27);\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09if\x20(!response.ok)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09throw\x20new\x20Error(`HTTP\x20error!\x20status:\x20${response.status}`);\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27更新保存状态\x27);\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09const\x20now\x20=\x20new\x20Date().toLocaleString();\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09document.title\x20=\x20`编辑已保存\x20${now}`;\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09updateStatus(`已保存\x20${now}`);\x0a\x09\x09\x09\x09\x09\x09\x09\x09})\x0a\x09\x09\x09\x09\x09\x09\x09\x09.catch(error\x20=>\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27处理错误\x27);\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09console.error(\x27Save\x20error:\x27,\x20error);\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09updateStatus(`保存失败:\x20${error.message}`,\x20true);\x0a\x09\x09\x09\x09\x09\x09\x09\x09})\x0a\x09\x09\x09\x09\x09\x09\x09\x09.finally(()\x20=>\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09resetButton();\x0a\x09\x09\x09\x09\x09\x09\x09\x09});\x0a\x09\x09\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09updateButtonText(\x27检查内容变化\x27);\x0a\x09\x09\x09\x09\x09\x09\x09\x09updateStatus(\x27内容未变化\x27);\x0a\x09\x09\x09\x09\x09\x09\x09\x09resetButton();\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09}\x20catch\x20(error)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09console.error(\x27保存过程出错:\x27,\x20error);\x0a\x09\x09\x09\x09\x09\x09\x09button.textContent\x20=\x20\x27保存\x27;\x0a\x09\x09\x09\x09\x09\x09\x09button.disabled\x20=\x20false;\x0a\x09\x09\x09\x09\x09\x09\x09const\x20statusElem\x20=\x20document.getElementById(\x27saveStatus\x27);\x0a\x09\x09\x09\x09\x09\x09\x09if\x20(statusElem)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09statusElem.textContent\x20=\x20`错误:\x20${error.message}`;\x0a\x09\x09\x09\x09\x09\x09\x09\x09statusElem.style.color\x20=\x20\x27red\x27;\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x0a\x09\x09\x09\x09\x09textarea.addEventListener(\x27blur\x27,\x20saveContent);\x0a\x09\x09\x09\x09\x09textarea.addEventListener(\x27input\x27,\x20()\x20=>\x20{\x0a\x09\x09\x09\x09\x09\x09clearTimeout(timer);\x0a\x09\x09\x09\x09\x09\x09timer\x20=\x20setTimeout(saveContent,\x205000);\x0a\x09\x09\x09\x09\x09});\x0a\x09\x09\x09\x09}\x0a\x09\x09\x0a\x09\x09\x09\x09function\x20toggleNotice()\x20{\x0a\x09\x09\x09\x09\x09const\x20noticeContent\x20=\x20document.getElementById(\x27noticeContent\x27);\x0a\x09\x09\x09\x09\x09const\x20noticeToggle\x20=\x20document.getElementById(\x27noticeToggle\x27);\x0a\x09\x09\x09\x09\x09if\x20(noticeContent.style.display\x20===\x20\x27none\x27\x20||\x20noticeContent.style.display\x20===\x20\x27\x27)\x20{\x0a\x09\x09\x09\x09\x09\x09noticeContent.style.display\x20=\x20\x27block\x27;\x0a\x09\x09\x09\x09\x09\x09noticeToggle.textContent\x20=\x20\x27注意事项∧\x27;\x0a\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09noticeContent.style.display\x20=\x20\x27none\x27;\x0a\x09\x09\x09\x09\x09\x09noticeToggle.textContent\x20=\x20\x27注意事项∨\x27;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09}\x0a\x09\x09\x0a\x09\x09\x09\x09//\x20初始化\x20noticeContent\x20的\x20display\x20属性\x0a\x09\x09\x09\x09document.addEventListener(\x27DOMContentLoaded\x27,\x20()\x20=>\x20{\x0a\x09\x09\x09\x09\x09document.getElementById(\x27noticeContent\x27).style.display\x20=\x20\x27none\x27;\x0a\x09\x09\x09\x09});\x0a\x09\x09\x09\x09</script>\x0a\x09\x09\x09</body>\x0a\x09\x09\x09</html>\x0a\x09\x09';return new Response(_0x5137c2,{'headers':{'Content-Type':'text/html;charset=utf-8'}});}catch(_0x4c7e64){return console['error'](_0x59074f(0x142),_0x4c7e64),new Response(_0x59074f(0x215)+_0x4c7e64[_0x59074f(0x144)],{'status':0x1f4,'headers':{'Content-Type':_0x59074f(0xf8)}});}}
